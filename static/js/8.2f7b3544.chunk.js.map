{"version":3,"sources":["components/Notice/Detail.jsx","views/Notice/Detail.jsx"],"names":["Detail","file","pdfjs","GlobalWorkerOptions","workerSrc","version","useState","numPages","setNumPages","error","i18n","t","loading","onLoadSuccess","Array","from","el","index","key","pageNumber","scale","DetailNotice","uploadService","upload","setUpload","setError","useAppContext","state","dispatch","useParams","type","id","useEffect","SET_PAGE_TITLE","value","getUpload","category","then","u","err","className","to","user","can_edit","is_admin","description","BASE_API_URL"],"mappings":"4PAoCeA,IA9Bf,YAAyB,IAARC,EAAO,EAAPA,KACfC,IAAMC,oBAAoBC,UAA1B,kDAAiFF,IAAMG,QAAvF,kBADsB,MAEUC,mBAAS,MAFnB,mBAEfC,EAFe,KAELC,EAFK,KAOtB,OACE,kBAAC,IAAD,CACEP,KAAMA,EACNQ,MAAOC,IAAKC,EAAE,oBACdC,QAASF,IAAKC,EAAE,sBAChBE,cATJ,YAA4C,IAAZN,EAAW,EAAXA,SAC9BC,EAAYD,KAWRO,MAAMC,KACJ,IAAID,MAAMP,IACV,SAACS,EAAIC,GAAL,OACE,kBAAC,IAAD,CACEC,IAAG,eAAUD,EAAQ,GACrBE,WAAYF,EAAQ,EACpBG,MAAO,U,yHCuBNC,UAzCf,YAAwC,IAAjBC,EAAgB,EAAhBA,cAAgB,EACThB,mBAAS,MADA,mBAC9BiB,EAD8B,KACtBC,EADsB,OAEXlB,mBAAS,MAFE,mBAE9BG,EAF8B,KAEvBgB,EAFuB,OAGXC,cAAnBC,EAH8B,EAG9BA,MAAOC,EAHuB,EAGvBA,SAHuB,EAIlBC,cAAZC,EAJ8B,EAI9BA,KAAMC,EAJwB,EAIxBA,GAiBb,OAfAC,qBAAU,WACRJ,EAAS,CAACE,KAAMG,IAAgBC,MAAOxB,IAAKC,EAAL,uBAAuBmB,EAAvB,aAEvCR,EAAca,UAAU,CACtBL,KAAM,OACNM,SAAUN,EACVC,OACCM,MAAK,SAACC,GACPd,EAAUc,MACT,SAACC,GACFd,EAASc,QAEV,CAACX,EAAUG,EAAID,EAAMR,IAGjBC,GACL,yBAAKiB,UAAU,0BACb,kBAAC,IAAD,CAAO/B,MAAOA,IACd,kBAAC,IAAD,CAAMgC,GAAE,kBAAaX,EAAb,YAA6BU,UAAU,SAAS9B,IAAKC,EAAE,qBAC9DgB,EAAMe,OAASf,EAAMe,KAAKC,UAAYhB,EAAMe,KAAKE,UAChD,yBAAKJ,UAAU,cACb,kBAAC,IAAD,CAAMC,GAAE,kBAAaX,EAAb,YAAqBC,EAArB,SAAgCS,UAAU,OAAO9B,IAAKC,EAAE,sBAEhE,KAEJ,0BAAM6B,UAAU,cAAcjB,EAAOsB,aACrC,yBAAKL,UAAU,QACb,kBAAC,IAAD,CAAQvC,KAAI,UAAK6C,IAAL,gCAAyChB,EAAzC,YAAiDP,EAAOQ,GAAxD","file":"static/js/8.2f7b3544.chunk.js","sourcesContent":["import {Document, Page, pdfjs} from \"react-pdf\";\nimport React, {useState} from \"react\";\nimport 'react-pdf/dist/esm/Page/AnnotationLayer.css';\nimport i18n from \"../../utils/i18n\";\n\n\nfunction Detail({file}) {\n  pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\n  const [numPages, setNumPages] = useState(null);\n  function onDocumentLoadSuccess({numPages}) {\n    setNumPages(numPages);\n  }\n\n  return (\n    <Document\n      file={file}\n      error={i18n.t(\"pdf-reader.error\")}\n      loading={i18n.t(\"pdf-reader.loading\")}\n      onLoadSuccess={onDocumentLoadSuccess}\n    >\n      {\n        Array.from(\n          new Array(numPages),\n          (el, index) => (\n            <Page\n              key={`page_${index + 1}`}\n              pageNumber={index + 1}\n              scale={2.0}\n            />\n          ),\n        )\n      }\n    </Document>\n  )\n}\n\nexport default Detail\n","import React, {useEffect, useState} from 'react';\nimport {Link, useParams} from \"react-router-dom\";\nimport Error from \"../../components/Error/Error\";\nimport {BASE_API_URL} from \"../../api\";\nimport i18n from \"../../utils/i18n\";\nimport {SET_PAGE_TITLE, useAppContext} from \"../../context/app\";\nimport Detail from \"../../components/Notice/Detail\";\n\n\nfunction DetailNotice({uploadService}) {\n  const [upload, setUpload] = useState(null);\n  const [error, setError] = useState(null);\n  const {state, dispatch} = useAppContext();\n  const {type, id} = useParams();\n\n  useEffect(() => {\n    dispatch({type: SET_PAGE_TITLE, value: i18n.t(`pages.notice.${type}Detail`)});\n\n    uploadService.getUpload({\n      type: \"menu\",\n      category: type,\n      id,\n    }).then((u) => {\n      setUpload(u)\n    }, (err) => {\n      setError(err)\n    })\n  }, [dispatch, id, type, uploadService])\n\n\n  return upload && (\n    <div className=\"container py-4 mx-auto\">\n      <Error error={error}/>\n      <Link to={`/oznamy/${type}/archive`} className=\"block\">{i18n.t(\"notice.link.back\")}</Link>\n      {state.user && (state.user.can_edit || state.user.is_admin) ? (\n        <div className=\"text-right\">\n          <Link to={`/oznamy/${type}/${id}/edit`} className=\"btn\">{i18n.t(\"notice.link.edit\")}</Link>\n        </div>\n      ) : null\n      }\n      <span className=\"form-title\">{upload.description}</span>\n      <div className=\"py-4\">\n        <Detail file={`${BASE_API_URL}/api/v1/uploads/menu/${type}/${upload.id}/download`}/>\n      </div>\n\n    </div>\n  )\n}\n\n\nexport default DetailNotice\n"],"sourceRoot":""}