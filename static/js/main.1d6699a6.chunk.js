(this.webpackJsonpintegra=this.webpackJsonpintegra||[]).push([[1],{145:function(e){e.exports=JSON.parse('{"pages":{"login":{"menuName":"Prihl\xe1senie"},"home":{"menuName":"Domov"},"articles":{"menuName":"Aktuality","create":"Vytvori\u0165 \u010dl\xe1nok","edit":"Upravi\u0165 \u010dl\xe1nok"},"gallery":{"menuName":"Fotogaleria"},"page":{"edit":"Upravi\u0165 str\xe1nku","create":"Vytvori\u0165 str\xe1nku"},"forgotPassword":{"menuName":"Zabudnut\xe9 heslo"},"resetPassword":{"title":"Reset hesla"},"contact":{"menuName":"Kontakt"},"notice":{"menuName":"Oznamy","actual":"Aktu\xe1lne oznamy"}},"articles":{"created":"Vytvoren\xe9","top":"Naj\u010ditanej\u0161ie","link":{"create":"Vytvori\u0165","edit":"Upravi\u0165"}},"page":{"link":{"create":"Vytrvori\u0165 podstr\xe1nku","edit":"Upravi\u0165"}},"gallery":{"uploadImagePlaceholder":"Obr\xe1zok gallerie","link":{"create":"Vytvori\u0165 Album","upload":"Nahra\u0165 fotky"}},"actions":{"logout":"Odhl\xe1si\u0165"},"forgotPassword":{"success":"Postup pre reset hesla najde\u0161 vo svojom emaile, ak si zadal spr\xe1vny email"},"form":{"login":{"Email":"Email","Password":"Heslo","Submit":"Prihl\xe1si\u0165"},"article":{"Title":"Titulok","Short":"Skraten\xfd tvar","Content":"\u010cl\xe1nok","Published":"Zverejnen\xfd","Submit":"Ulo\u017ei\u0165"},"pages":{"Title":"Titulok","Body":"Obash","Submit":"Ulo\u017ei\u0165"},"resetPassword":{"Password":"Heslo","PasswordConfirm":"Potvrdenie hesla","Submit":"Ulo\u017ei\u0165"},"forgotPassword":{"Email":"Email","Submit":"Odosla\u0165"},"gallery":{"Upload":"Vyberte obr\xe1zky","UploadForm":"Vybra\u0165","Submit":"Nahra\u0165","Name":"Meno","Desc":"Popis","Create":"Vytvori\u0165","infoText":"Vyberte subory s priponou jpg, gif, png, jpeg a maximalnou ve\u013ekostou 5mb"},"validationMessages":{"required":"Pole \'{{field}}\' je povinn\xe9","invalid_format":"Pole \'{{field}}\' nieje v spravnom form\xe1te","confirm":"Hesla musia by\u0165 rovnak\xe9","fileSize":"Ve\u013ekos\u0165 suboru je pr\xedli\u0161 ve\u013ek\xe1","fileExtension":"Typ s\xfaboru nieje podporovan\xfd"}},"pagination":{"Prev":"Predchadzaj\xface","Next":"\u010eal\u0161ie"},"errors":{"login":"heslo alebo email je zle skuste to znova","unknown":"nastala chyba skuste to znova","notFound":"Str\xe1nka sa nena\u0161la"}}')},156:function(e,t,a){e.exports=a(323)},313:function(e,t){},314:function(e,t){},315:function(e,t){},316:function(e,t){},317:function(e,t){},320:function(e,t,a){},321:function(e,t,a){},323:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(43),c=a.n(l),o=a(329),s=a(152),i=a(3),m=a(4),u={getItem:function(e){return e&&this.hasOwnProp(e)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)".concat(escape(e).replace(/[\-\.\+\*]/g,"\\$&"),"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*")),"$1")):null},key:function(e){var t=unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[e]);return"undefined"===t?void 0:t},setItem:function(e,t){e&&(document.cookie="".concat(escape(e),"=").concat(escape(t),"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"),this.length=document.cookie.match(/\=/g).length)},length:(document.cookie.match(/\=/g)||window.localStorage).length,removeItem:function(e){e&&this.hasOwnProp(e)&&(document.cookie="".concat(escape(e),"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"),this.length-=1)},hasOwnProp:function(e){return new RegExp("(?:^|;\\s*)".concat(escape(e).replace(/[\-\.\+\*]/g,"\\$&"),"\\s*\\=")).test(document.cookie)},hasOwnProperty:function(e){return this.hasOwnProp(e)}};window.localStorage||(window.localStorage=u);var d="SET_PAGE_TITLE",p=function(e,t){switch(t.type){case"SET_USER_INFO":return Object(m.a)(Object(m.a)({},e),{},{user:Object(m.a)(Object(m.a)({},e.user),t.value)});case"SET_TOKEN":return localStorage.setItem("token",t.value),Object(m.a)(Object(m.a)({},e),{},{token:t.value});case d:return e.title===t.value?e:Object(m.a)(Object(m.a)({},e),{},{title:t.value});case"SET_MENU_ITEMS":return Object(m.a)(Object(m.a)({},e),{},{menuItems:t.value});default:return e}},g={user:null,token:localStorage.getItem("token")||null,title:"",menuItems:[]},f=n.a.createContext(g);function E(e){var t=Object(r.useReducer)(p,g),a=Object(i.a)(t,2),l=a[0],c=a[1];return n.a.createElement(f.Provider,{value:{state:l,dispatch:c}},e.children)}var b=function(){return Object(r.useContext)(f)},v=a(11),h=a.n(v),y=function(e,t){return h.a.get("/api/v1/pages/".concat(t,"/").concat(e)).then((function(e){return e.data}))},N=function(e){return h.a.get("/api/v1/pages/".concat(e)).then((function(e){return e.data}))},w=function(e,t){return h.a.put("/api/v1/pages/".concat(t.id),{title:t.title,body:t.body})},S=function(e,t){return h.a.post("/api/v1/pages/".concat(e),t).then((function(e){return e.data}))},x={getPage:function(e,t){return y(e,t)},getPagesByCategory:function(e){return N(e)}};function j(e){h.a.defaults.baseURL="https://api-fara.sebastiansimko.sk",h.a.interceptors.response.use((function(e){return e}),(function(e){return e.response&&401===e.response.status&&-1===e.request.responseURL.indexOf("api/auth/login")?(document.location="/logout",localStorage.setItem("token",""),Promise.resolve({})):Promise.reject({error:"error",status:e.response.status,message:e&&e.response?e.response.data.message:"Error"})}));var t=e||localStorage.getItem("token");"null"!==t&&t&&(h.a.defaults.headers.common.Authorization="Bearer ".concat(t))}var O=a(6),k=a(14);var P=function(){return n.a.createElement("div",{className:"mt-8"},n.a.createElement("div",{className:"loader mx-auto"}))},C=a(145),_=a(87);_.a.init({interpolation:{escapeValue:!1},lng:"sk",resources:{sk:{translation:C}}});var T=_.a;var I=function(e){var t,a,r,l=e.page,c=e.parent_page,o=e.user,s=e.parent_slug;if(o&&(o.can_edit||o.is_admin)&&(t=n.a.createElement(O.b,{to:"/pages/".concat(l.page_category.slug,"/").concat(l.slug,"/edit"),className:"btn"},T.t("page.link.edit")),c.slug===l.slug&&(a=n.a.createElement(O.b,{to:"/pages/".concat(l.page_category.slug,"/").concat(l.id,"/create?slug=").concat(l.slug),className:"btn mr-4"},T.t("page.link.create")))),c&&c.children&&c.children.length){r=n.a.createElement("div",null,n.a.createElement("ul",{className:"text-left"},n.a.createElement("li",{className:"px-4 py-2"},n.a.createElement(O.c,{to:"/pages/".concat(c.page_category.slug,"/").concat(s),exact:!0},c.title)),c.children.map((function(e){return n.a.createElement("li",{className:"px-4 py-2",key:e.id},n.a.createElement(O.c,{to:"/pages/".concat(e.page_category.slug,"/").concat(s,"/").concat(e.slug)},e.title))}))))}return n.a.createElement("div",{id:"page",className:"container mx-auto py-4"},n.a.createElement("div",null,n.a.createElement("div",{className:"text-right pt-4"},a,t)),n.a.createElement("div",{className:"grid grid-cols-4"},r,n.a.createElement("div",{className:r?"col-span-2":"col-span-4"},n.a.createElement("span",{className:"title"},l.title),n.a.createElement("div",{className:"content pt-4 whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:l.body}}))))};var M=function(e){var t=e.pageService,a=Object(r.useState)(null),l=Object(i.a)(a,2),c=l[0],o=l[1],s=b(),m=s.state,u=s.dispatch,p=Object(k.i)(),g=p.slug,f=p.category,E=p.parent_slug,v=null;return Object(r.useEffect)((function(){(null===c||c&&c.slug!==E)&&t.getPage(E,f).then((function(e){o(e),u({type:d,value:e.title})}))}),[t,c,E,f,u]),null!==c&&g&&(v=c.children.find((function(e){return e.slug===g}))),null===c?n.a.createElement(P,null):n.a.createElement(I,{page:v||c,parent_page:c,parent_slug:E,user:m.user})},z=function(e){return h.a.post("/api/v1/articles",e).then((function(e){return e.data}))},A=function(e){return h.a.put("/api/v1/articles/".concat(e.id),e).then((function(e){return e.data}))},U=function(e){return h.a.get("/api/v1/articles/".concat(e.slug)).then((function(e){return e.data}))},q=function(e){return h.a.get("/api/v1/articles",{params:e}).then((function(e){return e.data}))};function F(e){var t=new FormData;return t.append("file",e),h.a.post("/api/v1/uploads/pages/media",t).then((function(e){return Object(m.a)({data:{link:e.data?e.data.file:null}},e)}))}var D={getArticles:function(e){return q({p:e&&e.p?e.p:1,s:9})},getArticle:function(e){return U({slug:e})},create:function(e){var t=e.body,a=e.title,r=e.short,n=e.published,l=e.image;return l&&l.length?F(l[0]).then((function(e){return console.log(l),z({body:t,title:a,short:r,published:n,image:e.data.link})})):z({body:t,title:a,short:r,published:n})},edit:function(e){var t=e.id,a=e.body,r=e.title,n=e.short,l=e.published,c=e.image;return c&&c.length?F(c[0]).then((function(e){return console.log(e),A({id:t,body:a,title:r,short:n,published:l,image:e.data.file})})):A({id:t,body:a,title:r,short:n,published:l})}},L=a(27);var V=function(e){var t=e.error;return t?n.a.createElement("div",{className:"py-3"},n.a.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert"},n.a.createElement("strong",{className:"font-bold pl-2"},"Error: "),n.a.createElement("span",{className:"block sm:inline"},t))):null};var B=function(e){var t=e.userService,a=Object(L.a)(),l=a.handleSubmit,c=a.register,o=a.errors,s=Object(r.useState)(null),m=Object(i.a)(s,2),u=m[0],d=m[1],p=b().dispatch,g=Object(k.g)();return n.a.createElement("form",{onSubmit:l((function(e){t.login(e).then((function(e){j(e.token),t.userInfo().then((function(t){p({type:"SET_USER_INFO",value:t}),p({type:"SET_TOKEN",value:e.token}),g.push("/")}))}),(function(e){403===e.status?d(T.t("errors.login")):d(T.t("errors.unknown"))}))})),className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},n.a.createElement(V,{error:u}),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,T.t("form.login.Email")),n.a.createElement("input",{type:"email",name:"email",placeholder:T.t("form.login.Email"),ref:c({required:T.t("form.validationMessages.required",{field:T.t("form.login.Email")}),pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:T.t("form.validationMessages.invalid_format",{field:T.t("form.login.Email")})}})}),n.a.createElement("span",{className:"input-error"},o.email&&o.email.message)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,T.t("form.login.Password")),n.a.createElement("input",{name:"password",type:"password",placeholder:T.t("form.login.Password"),ref:c({required:T.t("form.validationMessages.required",{field:T.t("form.login.Password")}),message:T.t("form.validationMessages.required",{field:T.t("form.login.Password")})})}),n.a.createElement("span",{className:"input-error"},o.password&&o.password.message)),n.a.createElement("p",{className:"mb-2"},n.a.createElement(O.b,{to:"/forgot-password",className:"text-blue-500 hover:text-blue-800 "},T.t("pages.forgotPassword.menuName"))),n.a.createElement("button",{type:"submit",className:"btn"},T.t("form.login.Submit")))},R=function(e){var t=e.userService,a=Object(k.g)(),l=b(),c=l.state,o=l.dispatch;return Object(r.useEffect)((function(){o({type:d,value:T.t("pages.login.menuName")}),null!=c.token&&a.push("/")}),[o,c.token,a]),n.a.createElement("div",{className:"container mx-auto py-4"},n.a.createElement("div",{className:"w-full max-w-md mx-auto"},n.a.createElement(B,{userService:t})))},H=function(e){return h.a.post("/api/v1/auth/login",e).then((function(e){return e.data}))},Z=function(){return h.a.get("/api/v1/auth/user").then((function(e){return e.data}))},K=function(e){return h.a.post("/api/v1/auth/forgot-password",{email:e})},J=function(e,t){return h.a.post("/api/v1/auth/reset-password/".concat(t),e)},W={login:function(e){var t=e.email,a=e.password;return H({email:t,password:a})},userInfo:function(){return Z()},forgotPassword:function(e){return K(e)},resetPassword:function(e){var t=e.password,a=e.confirm,r=e.token;return J({password:t,password_confirmation:a},r)}},$=(a(97),a(26)),G=a(147),Q=a.n(G),Y=a(153);function X(e){var t=Q()(e),a=t.contentBlocks,r=t.entityMap,n=$.ContentState.createFromBlockArray(a,r);return $.EditorState.createWithContent(n)}function ee(e){return Object(Y.a)(e.getCurrentContent())}var te=n.a.lazy((function(){return a.e(0).then(a.t.bind(null,330,7)).then((function(e){return{default:e.Editor}}))}));var ae=function(e){var t=e.page,a=e.onSubmit,l=Object(L.a)(),c=l.handleSubmit,o=l.register,s=l.errors,u=$.EditorState.createEmpty();t&&t.body&&(u=X(t.body));var d=Object(r.useState)(u),p=Object(i.a)(d,2),g=p[0],f=p[1];return n.a.createElement("div",{className:"page-form container mx-auto py-4"},n.a.createElement("form",{onSubmit:c((function(e){return a(Object(m.a)(Object(m.a)({},e),{},{body:ee(g)}))})),className:"rounded px-8 pt-6 pb-8 mb-4"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,T.t("form.pages.Title")),n.a.createElement("input",{type:"text",name:"title",defaultValue:t?t.title:"",placeholder:T.t("form.pages.Title"),ref:o({required:T.t("form.validationMessages.required",{field:T.t("form.pages.Title")})})}),n.a.createElement("span",{className:"input-error"},s.title&&s.title.message)),n.a.createElement(r.Suspense,{fallback:n.a.createElement(P,null)},n.a.createElement(te,{editorState:g,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",uploadEnabled:!0,uploadCallback:F,onEditorStateChange:f})),n.a.createElement("button",{type:"submit",className:"btn"},T.t("form.pages.Submit"))))};var re=function(e){var t=e.pageService,a=Object(r.useState)(null),l=Object(i.a)(a,2),c=l[0],o=l[1],s=Object(r.useState)(!0),u=Object(i.a)(s,2),p=u[0],g=u[1],f=b().dispatch,E=Object(k.g)(),v=Object(k.i)(),h=v.slug,y=v.category;return Object(r.useEffect)((function(){g(!0),t.getPage(h,y).then((function(e){o(e),g(!1),f({type:d,value:"".concat(T.t("pages.page.edit"),": ").concat(e.title)})}))}),[t,f,h,y]),p?n.a.createElement(P,null):n.a.createElement(ae,{page:c,onSubmit:function(e){w(y,Object(m.a)(Object(m.a)({},c),e)).then((function(){E.push("/pages/".concat(y,"/").concat(h))}))}})},ne=a(67),le=a.n(ne),ce=n.a.lazy((function(){return a.e(0).then(a.t.bind(null,330,7)).then((function(e){return{default:e.Editor}}))}));var oe=function(e){var t=e.article,a=void 0===t?{}:t,l=e.onSubmit,c=Object(L.a)(),o=c.handleSubmit,s=c.register,u=c.errors,d=Object(r.useState)([]),p=Object(i.a)(d,2),g=p[0],f=p[1],E=$.EditorState.createEmpty(),b=$.EditorState.createEmpty();a&&a.body&&(E=X(a.body)),a&&a.short&&(b=X(a.short));var v=Object(r.useState)(E),h=Object(i.a)(v,2),y=h[0],N=h[1],w=Object(r.useState)(b),S=Object(i.a)(w,2),x=S[0],j=S[1];return n.a.createElement("div",{className:"article-form container mx-auto py-4"},n.a.createElement("form",{onSubmit:o((function(e){return l(Object(m.a)(Object(m.a)({},e),{},{published:!0,image:g,body:ee(y),short:ee(x)}))})),className:"rounded px-8 pt-6 pb-8 mb-4"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,T.t("form.article.Title")),n.a.createElement("input",{type:"text",name:"title",defaultValue:a.title,placeholder:T.t("form.article.Title"),ref:s({required:T.t("form.validationMessages.required",{field:T.t("form.article.Title")})})}),n.a.createElement("span",{className:"input-error"},u.title&&u.title.message)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,T.t("form.article.Image")),n.a.createElement(le.a,{withIcon:!0,name:"images",label:T.t("form.gallery.infoText"),buttonText:T.t("form.gallery.UploadForm"),fileSizeError:T.t("form.errorMessages.fileSize"),fileTypeError:T.t("form.errorMessage.fileExtension"),onChange:f,onDelete:f,singleImage:!0,withPreview:!0,imgExtension:[".jpg",".gif",".png",".jpeg"],fileContainerStyle:{boxShadow:"none"}})),n.a.createElement(r.Suspense,{fallback:n.a.createElement(P,null)},n.a.createElement("label",null,T.t("form.article.Content")),n.a.createElement(ce,{editorState:y,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",uploadEnabled:!0,uploadCallback:F,onEditorStateChange:N})),n.a.createElement(r.Suspense,{fallback:n.a.createElement(P,null)},n.a.createElement("label",null,T.t("form.article.Short")),n.a.createElement(ce,{editorState:x,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",uploadEnabled:!0,uploadCallback:F,onEditorStateChange:j})),n.a.createElement("div",{className:"pt-2"},n.a.createElement("button",{type:"submit",className:"btn"},T.t("form.article.Submit")))))};var se=function(e){var t=e.articleService,a=b().dispatch,l=Object(k.g)();return Object(r.useEffect)((function(){a({type:d,value:T.t("pages.articles.create")})}),[a]),n.a.createElement(oe,{onSubmit:function(e){t.create(Object(m.a)({},e)).then((function(){l.push("/articles")}))}})};var ie=function(e){var t=e.articleService,a=b().dispatch,l=Object(k.g)(),c=Object(k.i)().slug,o=Object(r.useState)(null),s=Object(i.a)(o,2),u=s[0],p=s[1];return Object(r.useEffect)((function(){t.getArticle(c).then((function(e){p(e),a({type:d,value:"".concat(T.t("pages.articles.edit"),": ").concat(e.title)})}))}),[a,c,t]),null===u?n.a.createElement(P,null):n.a.createElement(oe,{onSubmit:function(e){t.edit(Object(m.a)(Object(m.a)({},e),{},{id:u.id})).then((function(){l.push("/articles")}))},article:u})};var me=function(e){var t,a=e.article,r=e.user;return r&&(r.can_edit||r.is_admin)&&(t=n.a.createElement("div",{className:"text-right"},n.a.createElement(O.b,{to:"/articles/".concat(a.slug,"/edit"),className:"btn"},T.t("articles.link.edit")))),n.a.createElement("div",{id:"article",className:"container mx-auto py-4"},n.a.createElement("div",{className:"text-right"},t),n.a.createElement("span",{className:"title text-3xl"},a.title),a.image?n.a.createElement("img",{src:a.image,alt:a.title,className:"w-full pt-8"}):"",n.a.createElement("div",{className:"content pt-4",dangerouslySetInnerHTML:{__html:a.body}}))};var ue=function(e){var t=e.articleService,a=Object(r.useState)(null),l=Object(i.a)(a,2),c=l[0],o=l[1],s=b(),m=s.state,u=s.dispatch,p=Object(k.i)().slug;return Object(r.useEffect)((function(){t.getArticle(p).then((function(e){o(e),u({type:d,value:e.title})}))}),[t,u,p]),null===c?n.a.createElement(P,null):n.a.createElement(me,{article:c,user:m.user})};var de=function(){return n.a.createElement("div",{className:"container py-4 mx-auto text-center"},T.t("errors.notFound"))},pe=a(154);var ge=function(e){var t=e.children,a=e.neededPerm,r=Object(pe.a)(e,["children","neededPerm"]),l=b().state;return n.a.createElement(k.b,Object.assign({},r,{render:function(e){var r,c,o=e.location;return r=a,c=l.user,("admin"===r?c&&c.is_admin:"editor"===r?c&&c.can_edit:"logged"===r?null!==c:"notLogged"===r&&null===c)?t:n.a.createElement(k.a,{to:{pathname:"/not-found",state:{from:o}}})}}))};var fe=function(e){var t=e.userService,a=Object(L.a)(),r=a.handleSubmit,l=a.register,c=a.errors,o=Object(k.g)();return n.a.createElement("form",{onSubmit:r((function(e){var a=e.email;t.forgotPassword(a).then((function(){o.push("/forgot-password/success")}))})),className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,T.t("form.forgotPassword.Email")),n.a.createElement("input",{type:"email",name:"email",placeholder:T.t("form.login.Email"),ref:l({required:T.t("form.validationMessages.required",{field:T.t("form.forgotPassword.Email")}),pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:T.t("form.validationMessages.invalid_format",{field:T.t("form.forgotPassword.Email")})}})}),n.a.createElement("span",{className:"input-error"},c.email&&c.email.message)),n.a.createElement("button",{type:"submit",className:"btn"},T.t("form.forgotPassword.Submit")))},Ee=function(e){var t=e.userService,a=b().dispatch;return Object(r.useEffect)((function(){a({type:d,value:T.t("pages.forgotPassword.menuName")})}),[a]),n.a.createElement("div",{className:"container mx-auto py-4"},n.a.createElement("div",{className:"w-full max-w-md mx-auto"},n.a.createElement(fe,{userService:t})))},be=function(){var e=b().dispatch;return Object(r.useEffect)((function(){e({type:d,value:T.t("pages.forgotPassword.menuName")})}),[e]),n.a.createElement("div",null,n.a.createElement("div",{className:"w-full max-w-md mx-auto"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",className:"fill-current text-orange-500 mb-4 mx-auto w-6/12",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 512 512"},n.a.createElement("g",null,n.a.createElement("g",null,n.a.createElement("path",{d:"M437.019,74.98C388.667,26.629,324.38,0,256,0C187.619,0,123.331,26.629,74.98,74.98C26.628,123.332,0,187.62,0,256    s26.628,132.667,74.98,181.019C123.332,485.371,187.619,512,256,512c68.38,0,132.667-26.629,181.019-74.981    C485.371,388.667,512,324.38,512,256S485.371,123.333,437.019,74.98z M256,482C131.383,482,30,380.617,30,256S131.383,30,256,30    s226,101.383,226,226S380.617,482,256,482z"}))),n.a.createElement("g",null,n.a.createElement("g",null,n.a.createElement("path",{d:"M378.305,173.859c-5.857-5.856-15.355-5.856-21.212,0.001L224.634,306.319l-69.727-69.727    c-5.857-5.857-15.355-5.857-21.213,0c-5.858,5.857-5.858,15.355,0,21.213l80.333,80.333c2.929,2.929,6.768,4.393,10.606,4.393    c3.838,0,7.678-1.465,10.606-4.393l143.066-143.066C384.163,189.215,384.163,179.717,378.305,173.859z"}))),n.a.createElement("g",null),n.a.createElement("g",null),n.a.createElement("g",null),n.a.createElement("g",null),n.a.createElement("g",null),n.a.createElement("g",null),n.a.createElement("g",null),n.a.createElement("g",null),n.a.createElement("g",null),n.a.createElement("g",null),n.a.createElement("g",null),n.a.createElement("g",null),n.a.createElement("g",null),n.a.createElement("g",null),n.a.createElement("g",null)),T.t("forgotPassword.success")))};var ve=function(e){var t=e.userService,a=Object(L.a)(),r=a.handleSubmit,l=a.register,c=a.errors,o=a.getValues,s=Object(k.g)(),i=new URLSearchParams(s.location.search).get("token");return n.a.createElement("form",{onSubmit:r((function(e){var a=e.password,r=e.confirm;t.resetPassword({password:a,confirm:r,token:i}).then((function(){s.push("/login")}))})),className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,T.t("form.resetPassword.Password")),n.a.createElement("input",{type:"password",name:"password",placeholder:T.t("form.resetPassword.Password"),ref:l({required:T.t("form.validationMessages.required",{field:T.t("form.resetPassword.Password")})})}),n.a.createElement("span",{className:"input-error"},c.password&&c.password.message)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,T.t("form.resetPassword.PasswordConfirm")),n.a.createElement("input",{type:"password",name:"confirm",placeholder:T.t("form.resetPassword.PasswordConfirm"),ref:l({required:T.t("form.validationMessages.required",{field:T.t("form.resetPassword.PasswordConfirm")}),validate:{confirm:function(e){return e===o("password")||T.t("form.validationMessages.confirm")}}})}),n.a.createElement("span",{className:"input-error"},c.confirm&&c.confirm.message)),n.a.createElement("button",{type:"submit",className:"btn"},T.t("form.resetPassword.Submit")))};var he=function(e){var t=e.userService,a=b().dispatch;return Object(r.useEffect)((function(){a({type:d,value:T.t("pages.resetPassword.title")})}),[a]),n.a.createElement("div",{className:"container mx-auto py-4"},n.a.createElement(ve,{userService:t}))};var ye=function(e){var t=e.onSubmit,a=Object(r.useState)([]),l=Object(i.a)(a,2),c=l[0],o=l[1];return n.a.createElement("form",{className:"container mx-auto py-4",onSubmit:function(e){e.preventDefault(),t(c)}},n.a.createElement(le.a,{withIcon:!0,name:"images",label:T.t("form.gallery.infoText"),buttonText:T.t("form.gallery.UploadForm"),fileSizeError:T.t("form.errorMessages.fileSize"),fileTypeError:T.t("form.errorMessage.fileExtension"),onChange:o,onDelete:o,withPreview:!0,imgExtension:[".jpg",".gif",".png",".jpeg"],fileContainerStyle:{boxShadow:"none"}}),n.a.createElement("div",null,n.a.createElement("button",{type:"submit",className:"btn"},T.t("form.gallery.Submit"))))},Ne=function(e){return h.a.get("/api/v1/uploads/".concat(e)).then((function(e){return e.data}))},we=function(e){var t=e.type,a=e.category;return h.a.get("/api/v1/uploads/".concat(t,"/").concat(a)).then((function(e){return e.data}))},Se=function(e){var t=e.name,a=e.subPath,r=e.description,n=e.type;return h.a.post("/api/v1/uploads/".concat(n),{name:t,description:r,subPath:a})},xe=function(e,t){return h.a.post("/api/v1/uploads/".concat("pages","/").concat(t),e,{headers:{"content-type":"multipart/form-data"}}).then((function(e){return Object(m.a)({data:{link:e.data?e.data.file:null}},e.data)}))};var je=function(e){var t=e.galleryService,a=b().dispatch,l=Object(k.g)(),c=Object(k.i)().category;return Object(r.useEffect)((function(){a({type:d,value:T.t("pages.upload.upload")})}),[a]),n.a.createElement(ye,{onSubmit:function(e){t.upload(e,c).then((function(){l.push("/gallery")}))},type:"gallery",category:c})},Oe={upload:function(e,t){return Promise.all(e.map((function(e){var a=new FormData;return a.append("file",e),xe(a,t)})))},getCategoryUploads:function(e){return we({type:"gallery",category:e})},getUploadsCategories:function(){return Ne("gallery")},create:function(e){var t=e.name,a=e.description;return Se({name:t,description:a,type:"gallery",subPath:t.toLowerCase().replace(" ","-")})}};var ke=function(e){var t=e.onSubmit,a=Object(L.a)(),r=a.handleSubmit,l=a.register,c=a.errors;return n.a.createElement("form",{onSubmit:r(t),className:"py-4 container mx-auto"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,T.t("form.gallery.Name")),n.a.createElement("input",{type:"text",name:"name",placeholder:T.t("form.gallery.Name"),ref:l({required:T.t("form.validationMessages.required",{field:T.t("form.gallery.Name")})})}),n.a.createElement("span",{className:"input-error"},c.email&&c.email.message)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,T.t("form.gallery.Desc")),n.a.createElement("input",{type:"text",name:"description",placeholder:T.t("form.gallery.Desc"),ref:l({required:T.t("form.validationMessages.required",{field:T.t("form.gallery.Desc")})})}),n.a.createElement("span",{className:"input-error"},c.email&&c.email.message)),n.a.createElement("div",null,n.a.createElement("button",{type:"submit",className:"btn"},T.t("form.gallery.Create"))))};var Pe=function(e){var t=e.galleryService,a=b().dispatch,l=Object(k.g)();return Object(r.useEffect)((function(){a({type:d,value:T.t("pages.gallery.create")})}),[a]),n.a.createElement(ke,{onSubmit:function(e){t.create(Object(m.a)({},e)).then((function(){l.push("/gallery")}))}})};var Ce=function(e){var t=e.category;return n.a.createElement("div",null,n.a.createElement(O.b,{to:"/gallery/".concat(t.slug)},n.a.createElement("img",{className:"py-3 px-3",src:t.thumbnail,alt:T.t("gallery.uploadImagePlaceholder")})),t.name,t.description)};var _e=function(e){var t=e.galleryService,a=Object(r.useState)(null),l=Object(i.a)(a,2),c=l[0],o=l[1],s=b(),m=s.state,u=s.dispatch,p=[];return Object(r.useEffect)((function(){u({type:d,value:T.t("pages.articles.menuName")}),t.getUploadsCategories().then((function(e){o(e)}))}),[t,u]),null!==c&&(p=c.map((function(e){return n.a.createElement(Ce,{category:e,key:e.id})}))),null===c?n.a.createElement(P,null):n.a.createElement("div",{className:"container mx-auto py-4"},m.user&&(m.user.can_edit||m.user.is_admin)?n.a.createElement("div",{className:"text-right pt-4"},n.a.createElement(O.b,{className:"btn",to:"/gallery/create"},T.t("gallery.link.create"))):null,n.a.createElement("div",{className:"grid grid-flow-col grid-cols-3 "},p))},Te=a(148),Ie=a.n(Te);var Me=function(e){var t=e.galleryService,a=Object(r.useState)(null),l=Object(i.a)(a,2),c=l[0],o=l[1],s=b(),u=s.state,p=s.dispatch,g=Object(k.i)().category,f=n.a.createRef();return Object(r.useEffect)((function(){p({type:d,value:T.t("pages.articles.menuName")}),t.getCategoryUploads(g).then((function(e){o(e)}))}),[t,p,g]),null===c?n.a.createElement(P,null):n.a.createElement("div",{className:"py-4 container mx-auto"},u.user&&(u.user.can_edit||u.user.is_admin)?n.a.createElement("div",{className:"text-right block py-4"},n.a.createElement(O.b,{className:"btn",to:"/gallery/".concat(g,"/upload")},T.t("gallery.link.upload"))):null,n.a.createElement(Ie.a,{items:c.upload.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{original:e.file})})),infinite:!1,lazyLoad:!0,onClick:function(e){return function(e){e.preventDefault(),f.current.toggleFullScreen()}(e)},showFullscreenButton:!1,showPlayButton:!1,ref:f}))};var ze=function(e){var t=e.pageService,a=b().dispatch,l=Object(k.g)(),c=Object(k.i)(),o=c.id,s=c.category,i=new URLSearchParams(Object(k.h)().search).get("slug");return Object(r.useEffect)((function(){a({type:d,value:T.t("pages.page.create")})}),[t,a,o,s]),n.a.createElement(ae,{onSubmit:function(e){S(s,Object(m.a)(Object(m.a)({},e),{},{parent:{id:parseInt(o)}})).then((function(e){i?l.push("/pages/".concat(s,"/").concat(i)):l.push("/")}))}})};var Ae=function(){var e=b().dispatch;return Object(r.useEffect)((function(){e({type:d,value:T.t("pages.contact.menuName")})})),n.a.createElement("div",{className:"container mx-auto pt-6"},n.a.createElement("div",{className:"grid md:grid-cols-2"},n.a.createElement("div",null,n.a.createElement("h2",{className:"text-2xl font-bold"},"Kontakt"),n.a.createElement("div",{className:"address py-2"},n.a.createElement("h3",{className:"text-xl"},"Adresa"),n.a.createElement("p",null,"Brig\xe1dnick\xe1 218/6"),n.a.createElement("p",null," 040 11 Ko\u0161ice")),n.a.createElement("div",{className:"information py-2"},n.a.createElement("p",null,"ICO: 52341020"),n.a.createElement("p",null,"DIC: 2121006261")),n.a.createElement("div",{className:"contact-info"},n.a.createElement("h3",{className:"text-xl"},"Kontaky"),n.a.createElement("p",null,n.a.createElement("a",{href:"mailto:kontakt@spintegra.sk",className:"text-orange-500"},"kontakt@spintegra.sk")),n.a.createElement("p",null,n.a.createElement("a",{href:"tel:+421948151336",className:"text-orange-500"},"0948 151 336")))),n.a.createElement("div",null,n.a.createElement("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2632.488337990963!2d21.228021316005325!3d48.71525987927368!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x473ee0474683a2f7%3A0x2f76580eaf2ae4dc!2zQnJpZ8OhZG5pY2vDoSA2LCAwNDAgMTEgS2_FoWljZQ!5e0!3m2!1sen!2ssk!4v1602766094937!5m2!1sen!2ssk",width:"100%",frameBorder:"0",allowFullScreen:"",className:"border-0 h-full w-full","aria-hidden":"false",tabIndex:"0"}))))},Ue=(a(287),a(149));var qe=function(){var e=b().dispatch;return Object(r.useEffect)((function(){e({type:d,value:T.t("pages.home.menuName")})})),n.a.createElement("div",{className:"home"},n.a.createElement(Ue.Carousel,{autoPlay:!0,infiniteLoop:!0,showArrows:!1,showThumbs:!1,showStatus:!1,interval:5e3,className:"carousel"},n.a.createElement("div",null,n.a.createElement("img",{src:"/photos/1-min.jpg",alt:"img-1"})),n.a.createElement("div",null,n.a.createElement("img",{src:"/photos/2-min.jpg",alt:"img-2"})),n.a.createElement("div",null,n.a.createElement("img",{src:"/photos/3-min.jpg",alt:"img-3"})),n.a.createElement("div",null,n.a.createElement("img",{src:"/photos/4-min.jpg",alt:"img-4"})),n.a.createElement("div",null,n.a.createElement("img",{src:"/photos/5-min.jpg",alt:"img-5"}))),n.a.createElement("div",{className:"grid grid-cols-2"},n.a.createElement("div",{className:"oznamy text-center"},n.a.createElement("a",{className:"text-4xl font-bold",href:"/oznamy"},"Aktualne oznamy")),n.a.createElement("div",{className:"most text-center"},n.a.createElement("a",{className:"text-4xl font-bold",href:"/most"},"Aktualne \u010dislo mostu"))),n.a.createElement("div",{className:"py-4"},n.a.createElement("div",{className:"container mx-auto"},n.a.createElement("h4",null,"Online prenos"),n.a.createElement("hr",{className:"py-4"}),n.a.createElement("iframe",{width:"560",height:"315",src:"https://www.youtube-nocookie.com/embed/Tl8DmgdXx-U",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",title:"Online Prenos",allowFullScreen:!0,className:"mx-auto"}))))},Fe=a(55);a(319);var De=function(){Fe.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Fe.c.version,"/pdf.worker.js");var e=Object(r.useState)(null),t=Object(i.a)(e,2),a=t[0],l=t[1],c=b().dispatch;return Object(r.useEffect)((function(){c({type:d,value:T.t("pages.notice.menuName")})})),n.a.createElement("div",{className:"p-4 container mx-auto"},n.a.createElement("h2",{className:"text-2xl"},T.t("pages.notice.actual")),n.a.createElement(Fe.a,{file:"".concat("https://api-fara.sebastiansimko.sk","/api/v1/uploads/menu/weekly/latest"),onLoadSuccess:function(e){var t=e.numPages;l(t)}},Array.from(new Array(a),(function(e,t){return n.a.createElement(Fe.b,{key:"page_".concat(t+1),pageNumber:t+1})})),"      "))};var Le=function(e){var t=e.announcement;return t?n.a.createElement("div",{className:"bg-indigo-500 h-20"},n.a.createElement("div",{className:"max-w-screen-xl mx-auto py-4 px-3 sm:px-6 lg:px-8"},n.a.createElement("div",{className:"flex items-center justify-between flex-wrap"},n.a.createElement("div",{className:"w-0 flex-1 flex items-center"},n.a.createElement("span",{className:"flex p-2 rounded-lg bg-indigo-800"},n.a.createElement("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.a.createElement("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"}))),n.a.createElement("p",{className:"ml-3 font-medium text-white truncate"},t))))):null};function Ve(e,t){return 0===t.length?e.getPagesByCategory("menu"):Promise.resolve(t)}var Be=function(e){var t=e.pageService,a=e.userService,l=Object(r.useState)(!1),c=Object(i.a)(l,2),o=c[0],s=c[1],m=Object(r.useState)(!0),u=Object(i.a)(m,2),d=u[0],p=u[1],g=b(),f=g.dispatch,E=g.state;Object(r.useEffect)((function(){null==E.user&&null!=E.token&&E.menuItems.length?(p(!0),a.userInfo().then((function(e){Ve(t,E.menuItems).then((function(t){f({type:"SET_MENU_ITEMS",value:t}),f({type:"SET_USER_INFO",value:e}),p(!1)}))}))):(p(!0),Ve(t,E.menuItems).then((function(e){f({type:"SET_MENU_ITEMS",value:e}),p(!1)})))}),[f,t,E.menuItems,E.user,E.token,a]),Object(r.useEffect)((function(){document.title="".concat(E.title," | Farnos\u0165 \u0160aca")}),[E.title]);var v="w-full lg:block px-6 flex-grow lg:flex lg:items-end lg:w-auto ";v+=o?"block":"hidden";var h=[];return E.menuItems.length&&(h=E.menuItems.map((function(e){return n.a.createElement("li",{className:"lg:mr-4 block lg:inline-block",key:"page-".concat(e.id)},n.a.createElement(O.c,{to:"/pages/menu/".concat(e.slug),className:"lg:mt-0 hover:text-blue-800"},e.title))}))),d?n.a.createElement(P,null):n.a.createElement(O.a,null,n.a.createElement("div",null,n.a.createElement("div",{className:"fixed z-50 shadow-md bg-white w-full main-menu"},n.a.createElement("nav",{className:"flex items-center justify-between flex-wrap py-8"},n.a.createElement("div",{className:"block lg:hidden ml-4"},n.a.createElement("button",{onClick:function(){return s(!o)},className:"flex items-center px-3 py-2 border rounded border-white hover:text-blue-800"},n.a.createElement("svg",{className:"fill-current h-3 w-3",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("title",null,"Menu"),n.a.createElement("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})))),n.a.createElement("div",{className:"flex lg:ml-4 px-6 items-center mr-4"},n.a.createElement("span",{className:"text-blue-800 text-shadow text-2xl font-bold ml-4"},"Farnos\u0165 \u0160aca")),n.a.createElement("div",{className:v},n.a.createElement("ul",{className:"text-sm lg:flex-grow text-center lg:text-right "},n.a.createElement("li",{className:"lg:mr-4 block lg:inline-block"},n.a.createElement(O.c,{to:"/",exact:!0,className:"lg:mt-0 hover:text-blue-800"},T.t("pages.home.menuName"))),n.a.createElement("li",{className:"lg:mr-4 block lg:inline-block"},n.a.createElement(O.c,{to:"/oznamy",className:"lg:mt-0 hover:text-blue-800"},T.t("pages.notice.menuName"))),h,n.a.createElement("li",{className:"lg:mr-4 block lg:inline-block"},n.a.createElement(O.c,{to:"/gallery",className:"lg:mt-0 hover:text-blue-800"},T.t("pages.gallery.menuName"))),n.a.createElement("li",{className:"lg:mr-4 block lg:inline-block"},n.a.createElement(O.c,{to:"/contact",className:"lg:mt-0 hover:text-blue-800"},T.t("pages.contact.menuName")))))),n.a.createElement(Le,{announcement:null})),n.a.createElement("div",{className:"".concat("pt-24"," main-content-wrapper mx-auto")},n.a.createElement(k.d,null,n.a.createElement(k.b,{exact:!0,path:"/"},n.a.createElement(qe,null)),n.a.createElement(ge,{neededPerm:"notLogged",path:"/login"},n.a.createElement(R,{userService:W})),n.a.createElement(ge,{neededPerm:"notLogged",path:"/forgot-password/success"},n.a.createElement(be,{userService:W})),n.a.createElement(ge,{neededPerm:"notLogged",path:"/forgot-password"},n.a.createElement(Ee,{userService:W})),n.a.createElement(ge,{neededPerm:"notLogged",path:"/reset-password"},n.a.createElement(he,{userService:W})),n.a.createElement(ge,{neededPerm:"editor",path:"/articles/create"},n.a.createElement(se,{articleService:D})),n.a.createElement(ge,{neededPerm:"editor",path:"/articles/:slug/edit"},n.a.createElement(ie,{articleService:D})),n.a.createElement(k.b,{path:"/articles/:slug"},n.a.createElement(ue,{articleService:D})),n.a.createElement(k.b,{path:"/oznamy"},n.a.createElement(De,null)),n.a.createElement(ge,{neededPerm:"editor",path:"/pages/:category/:slug/edit"},n.a.createElement(re,{pageService:x})),n.a.createElement(ge,{neededPerm:"editor",path:"/pages/:category/:id/create"},n.a.createElement(ze,{pageService:x})),n.a.createElement(k.b,{path:"/pages/:category/:parent_slug/:slug"},n.a.createElement(M,{pageService:x})),n.a.createElement(k.b,{path:"/pages/:category/:parent_slug"},n.a.createElement(M,{pageService:x})),n.a.createElement(ge,{neededPerm:"editor",path:"/gallery/:category/upload"},n.a.createElement(je,{galleryService:Oe})),n.a.createElement(ge,{neededPerm:"editor",path:"/gallery/create"},n.a.createElement(Pe,{galleryService:Oe})),n.a.createElement(k.b,{path:"/gallery/:category"},n.a.createElement(Me,{galleryService:Oe})),n.a.createElement(k.b,{path:"/gallery"},n.a.createElement(_e,{galleryService:Oe})),n.a.createElement(k.b,{path:"/contact"},n.a.createElement(Ae,null)),n.a.createElement(k.b,{path:"*"},n.a.createElement(de,null)))),n.a.createElement("div",{className:"text-center"},n.a.createElement("p",{className:"text-gray-800 py-8"},(new Date).getFullYear()," \xa9 Farnos\u0165 \u0160aca"))))};a(320),a(321);"production"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})&&o.a({dsn:"https://c3752759514d4b57b580d282b49fc338@o254716.ingest.sentry.io/5420367",integrations:[new s.a.BrowserTracing],tracesSampleRate:1}),j(),c.a.render(n.a.createElement(E,null,n.a.createElement(Be,{pageService:x,userService:W})),document.getElementById("root"))}},[[156,2,3]]]);
//# sourceMappingURL=main.1d6699a6.chunk.js.map