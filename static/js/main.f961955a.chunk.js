(this.webpackJsonpintegra=this.webpackJsonpintegra||[]).push([[2],{140:function(e){e.exports=JSON.parse('{"pages":{"login":{"menuName":"Prihl\xe1senie"},"home":{"menuName":"Domov"},"articles":{"menuName":"Aktuality","create":"Vytvori\u0165 \u010dl\xe1nok","edit":"Upravi\u0165 \u010dl\xe1nok"},"gallery":{"menuName":"Fotogaleria","upload":"Nahra\u0165 Foto","create":"Vytvori\u0165 Album"},"page":{"edit":"Upravi\u0165 str\xe1nku","create":"Vytvori\u0165 str\xe1nku"},"forgotPassword":{"menuName":"Zabudnut\xe9 heslo"},"resetPassword":{"title":"Reset hesla"},"contact":{"menuName":"Kontakt"},"links":{"menuName":"Linky"},"notice":{"menuName":"Oznamy","massMenuName":"Rozpis sv. Om\u0161i","readingsMenuName":"Rozpis \u010ditan\xed","actual":"Aktu\xe1lne oznamy","upload":"Nahra\u0165","archive":"Archiv","detail":"Oznamy"},"most":{"menuName":"Most","upload":"Nahra\u0165","archive":"Archiv","detail":"Archiv"}},"articles":{"created":"Vytvoren\xe9","top":"Naj\u010ditanej\u0161ie","link":{"create":"Vytvori\u0165 \u010dl\xe1nok","edit":"Upravi\u0165"}},"most":{"actual":"Aktu\xe1lne \u010dislo mostu","archive":"Arch\xedv mostu","link":{"archive":"Star\u0161ie \u010d\xedsla mostu","upload":"Nahra\u0165 Most","back":"< Nasp\xe4\u0165 do arch\xedvu"}},"page":{"link":{"create":"Vytrvori\u0165 podstr\xe1nku","edit":"Upravi\u0165"}},"gallery":{"uploadImagePlaceholder":"Obr\xe1zok gallerie","link":{"create":"Vytvori\u0165 Album","upload":"Nahra\u0165 fotky"}},"announcement":{"link":{"create":"Vytvori\u0165 upozornenie"}},"notice":{"archive":"Arch\xedv oznamov","detail":"Archiv","link":{"upload":"Nahra\u0165 Oznamy","uploadMass":"Nahra\u0165 rozpis om\u0161\xed","uploadReadings":"Nahra\u0165 rozpis \u010ditan\xed","back":"< Nasp\xe4\u0165 do arch\xedvu","archive":"Arch\xedv oznamov"}},"actions":{"logout":"Odhl\xe1si\u0165"},"forgotPassword":{"success":"Postup pre reset hesla najde\u0161 vo svojom emaile, ak si zadal spr\xe1vny email"},"form":{"login":{"Email":"Email","Password":"Heslo","Submit":"Prihl\xe1si\u0165"},"announcement":{"Message":"Sprava","ExpireAt":"Do kedy ju zobrazova\u0165","Submit":"Ulo\u017ei\u0165"},"article":{"Title":"Titulok","Short":"Skraten\xfd tvar","Content":"\u010cl\xe1nok","Published":"Zverejnen\xfd","Image":"Obr\xe1zok (Nepovinn\xe9)","Submit":"Ulo\u017ei\u0165"},"pages":{"Title":"Titulok","Body":"Obash","Submit":"Ulo\u017ei\u0165"},"resetPassword":{"Password":"Heslo","PasswordConfirm":"Potvrdenie hesla","Submit":"Ulo\u017ei\u0165"},"forgotPassword":{"Email":"Email","Submit":"Odosla\u0165"},"notice":{"File":"Subor","Description":"Popis","Submit":"Nahra\u0165"},"gallery":{"Upload":"Vyberte obr\xe1zky","UploadForm":"Vybra\u0165","Submit":"Nahra\u0165","Name":"Meno","Desc":"Popis","Create":"Vytvori\u0165","infoText":"Vyberte subory s priponou jpg, gif, png, jpeg a maximalnou ve\u013ekostou 5mb"},"validationMessages":{"required":"Pole \'{{field}}\' je povinn\xe9","invalid_format":"Pole \'{{field}}\' nieje v spravnom form\xe1te","confirm":"Hesla musia by\u0165 rovnak\xe9","fileSize":"Ve\u013ekos\u0165 suboru je pr\xedli\u0161 ve\u013ek\xe1","fileExtension":"Typ s\xfaboru nieje podporovan\xfd"}},"pagination":{"Prev":"Predchadzaj\xface","Next":"\u010eal\u0161ie"},"errors":{"login":"heslo alebo email je zle skuste to znova","unknown":"nastala chyba skuste to znova","notFound":"Str\xe1nka sa nena\u0161la"},"pdf-reader":{"loading":"Na\u010ditavanie ... ","error":"Subor sa nepodarilo sa na\u010dita\u0165"}}')},151:function(e,t,a){e.exports=a(292)},2:function(e,t,a){"use strict";var n=a(140),r=a(85);r.a.init({interpolation:{escapeValue:!1},lng:"sk",resources:{sk:{translation:n}}});var l=r.a;t.a=l},289:function(e,t,a){},290:function(e,t,a){},292:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(43),c=a.n(l),o=a(298),s=a(146),i=a(3),m=a(11),u=a.n(m),d=function(e,t){return u.a.get("/api/v1/pages/".concat(t,"/").concat(e)).then((function(e){return e.data}))},p=function(e){return u.a.get("/api/v1/pages/".concat(e)).then((function(e){return e.data}))},g=function(e,t){return u.a.put("/api/v1/pages/".concat(t.id),{title:t.title,body:t.body})},f=function(e,t){return u.a.post("/api/v1/pages/".concat(e),t).then((function(e){return e.data}))},b={getPage:function(e,t){return d(e,t)},getPagesByCategory:function(e){return p(e)}},E=a(56),v=(a(172),a(5)),h=a(4),N=a(16);var y=function(){return r.a.createElement("div",{className:"mt-8"},r.a.createElement("div",{className:"loader mx-auto"}))},x=a(2);var w=function(e){var t,a,n,l=e.page,c=e.parent_page,o=e.user,s=e.parent_slug;if(o&&(o.can_edit||o.is_admin)&&(t=r.a.createElement(h.b,{to:"/pages/".concat(l.page_category.slug,"/").concat(l.slug,"/edit"),className:"btn"},x.a.t("page.link.edit")),c.slug===l.slug&&(a=r.a.createElement(h.b,{to:"/pages/".concat(l.page_category.slug,"/").concat(l.id,"/create?slug=").concat(l.slug),className:"btn mr-4"},x.a.t("page.link.create")))),c&&c.children&&c.children.length){n=r.a.createElement("div",null,r.a.createElement("ul",{className:"text-left"},r.a.createElement("li",{className:"px-4 py-2"},r.a.createElement(h.c,{to:"/pages/".concat(c.page_category.slug,"/").concat(s),exact:!0},c.title)),c.children.map((function(e){return r.a.createElement("li",{className:"px-4 py-2",key:e.id},r.a.createElement(h.c,{to:"/pages/".concat(e.page_category.slug,"/").concat(s,"/").concat(e.slug)},e.title))}))))}return r.a.createElement("div",{id:"page",className:"container mx-auto py-4"},r.a.createElement("div",null,r.a.createElement("div",{className:"text-right pt-4"},a,t)),r.a.createElement("div",{className:"grid grid-cols-4"},n,r.a.createElement("div",{className:n?"col-span-2":"col-span-4"},r.a.createElement("span",{className:"title"},l.title),r.a.createElement("div",{className:"content pt-4 whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:l.body}}))))};var k=function(e){var t=e.pageService,a=Object(n.useState)(null),l=Object(v.a)(a,2),c=l[0],o=l[1],s=Object(i.g)(),m=s.state,u=s.dispatch,d=Object(N.i)(),p=d.slug,g=d.category,f=d.parent_slug,b=null;return Object(n.useEffect)((function(){(null===c||c&&c.slug!==f)&&t.getPage(f,g).then((function(e){o(e),u({type:i.d,value:e.title})}))}),[t,c,f,g,u]),null!==c&&p&&(b=c.children.find((function(e){return e.slug===p}))),null===c?r.a.createElement(y,null):r.a.createElement(w,{page:b||c,parent_page:c,parent_slug:f,user:m.user})},j=a(22),O=a(57);var S=function(e){var t=e.userService,a=Object(j.a)(),l=a.handleSubmit,c=a.register,o=a.errors,s=Object(n.useState)(null),m=Object(v.a)(s,2),u=m[0],d=m[1],p=Object(i.g)().dispatch,g=Object(N.g)();return r.a.createElement("form",{onSubmit:l((function(e){t.login(e).then((function(e){Object(E.b)(e.token),t.userInfo().then((function(t){p({type:i.f,value:t}),p({type:i.e,value:e.token}),g.push("/")}))}),(function(e){403===e.status?d(x.a.t("errors.login")):d(x.a.t("errors.unknown"))}))})),className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},r.a.createElement(O.a,{error:u}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,x.a.t("form.login.Email")),r.a.createElement("input",{type:"email",name:"email",placeholder:x.a.t("form.login.Email"),ref:c({required:x.a.t("form.validationMessages.required",{field:x.a.t("form.login.Email")}),pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:x.a.t("form.validationMessages.invalid_format",{field:x.a.t("form.login.Email")})}})}),r.a.createElement("span",{className:"input-error"},o.email&&o.email.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,x.a.t("form.login.Password")),r.a.createElement("input",{name:"password",type:"password",placeholder:x.a.t("form.login.Password"),ref:c({required:x.a.t("form.validationMessages.required",{field:x.a.t("form.login.Password")}),message:x.a.t("form.validationMessages.required",{field:x.a.t("form.login.Password")})})}),r.a.createElement("span",{className:"input-error"},o.password&&o.password.message)),r.a.createElement("p",{className:"mb-2"},r.a.createElement(h.b,{to:"/forgot-password",className:"text-blue-500 hover:text-blue-800 "},x.a.t("pages.forgotPassword.menuName"))),r.a.createElement("button",{type:"submit",className:"btn"},x.a.t("form.login.Submit")))},P=function(e){var t=e.userService,a=Object(N.g)(),l=Object(i.g)(),c=l.state,o=l.dispatch;return Object(n.useEffect)((function(){o({type:i.d,value:x.a.t("pages.login.menuName")}),null!=c.token&&a.push("/")}),[o,c.token,a]),r.a.createElement("div",{className:"container mx-auto py-4"},r.a.createElement("div",{className:"w-full max-w-md mx-auto"},r.a.createElement(S,{userService:t})))},C=function(e){return u.a.post("/api/v1/auth/login",e).then((function(e){return e.data}))},z=function(){return u.a.get("/api/v1/auth/user").then((function(e){return e.data}))},_=function(e){return u.a.post("/api/v1/auth/forgot-password",{email:e})},M=function(e,t){return u.a.post("/api/v1/auth/reset-password/".concat(t),e)},T={login:function(e){var t=e.email,a=e.password;return C({email:t,password:a})},userInfo:function(){return z()},forgotPassword:function(e){return _(e)},resetPassword:function(e){var t=e.password,a=e.confirm,n=e.token;return M({password:t,password_confirmation:a},n)}},A=a(6);a(96);function I(e){var t=new FormData;return t.append("file",e),u.a.post("/api/v1/uploads/pages/media",t).then((function(e){return Object(A.a)({data:{link:e.data?e.data.file:null}},e)}))}var U=a(28),D=a(142),q=a.n(D),L=a(147);function F(e){var t=q()(e),a=t.contentBlocks,n=t.entityMap,r=U.ContentState.createFromBlockArray(a,n);return U.EditorState.createWithContent(r)}function V(e){return Object(L.a)(e.getCurrentContent())}var R=r.a.lazy((function(){return a.e(1).then(a.t.bind(null,450,7)).then((function(e){return{default:e.Editor}}))}));var B=function(e){var t=e.page,a=e.onSubmit,l=Object(j.a)(),c=l.handleSubmit,o=l.register,s=l.errors,i=U.EditorState.createEmpty();t&&t.body&&(i=F(t.body));var m=Object(n.useState)(i),u=Object(v.a)(m,2),d=u[0],p=u[1];return r.a.createElement("div",{className:"page-form pt-4"},r.a.createElement("form",{onSubmit:c((function(e){return a(Object(A.a)(Object(A.a)({},e),{},{body:V(d)}))})),className:"rounded px-8 pt-6 pb-8 mb-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,x.a.t("form.pages.Title")),r.a.createElement("input",{type:"text",name:"title",defaultValue:t?t.title:"",placeholder:x.a.t("form.pages.Title"),ref:o({required:x.a.t("form.validationMessages.required",{field:x.a.t("form.pages.Title")})})}),r.a.createElement("span",{className:"input-error"},s.title&&s.title.message)),r.a.createElement(n.Suspense,{fallback:r.a.createElement(y,null)},r.a.createElement(R,{editorState:d,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",uploadEnabled:!0,uploadCallback:I,onEditorStateChange:p})),r.a.createElement("button",{type:"submit",className:"btn"},x.a.t("form.pages.Submit"))))};var H=function(e){var t=e.pageService,a=Object(n.useState)(null),l=Object(v.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(!0),m=Object(v.a)(s,2),u=m[0],d=m[1],p=Object(i.g)().dispatch,f=Object(N.g)(),b=Object(N.i)(),E=b.slug,h=b.category;return Object(n.useEffect)((function(){d(!0),t.getPage(E,h).then((function(e){o(e),d(!1),p({type:i.d,value:"".concat(x.a.t("pages.page.edit"),": ").concat(e.title)})}))}),[t,p,E,h]),r.a.createElement("div",{className:"container mx-auto py-4"},r.a.createElement("span",{className:"form-title"},x.a.t("page.link.edit")),u?r.a.createElement(y,null):r.a.createElement(B,{page:c,onSubmit:function(e){g(h,Object(A.a)(Object(A.a)({},c),e)).then((function(){f.push("/pages/".concat(h,"/").concat(E))}))}}))},K=a(68),Z=a.n(K),J=r.a.lazy((function(){return a.e(1).then(a.t.bind(null,450,7)).then((function(e){return{default:e.Editor}}))}));var $=function(e){var t=e.article,a=void 0===t?{}:t,l=e.onSubmit,c=Object(j.a)(),o=c.handleSubmit,s=c.register,i=c.errors,m=Object(n.useState)([]),u=Object(v.a)(m,2),d=u[0],p=u[1],g=U.EditorState.createEmpty(),f=U.EditorState.createEmpty();a&&a.body&&(g=F(a.body)),a&&a.short&&(f=F(a.short));var b=Object(n.useState)(g),E=Object(v.a)(b,2),h=E[0],N=E[1],w=Object(n.useState)(f),k=Object(v.a)(w,2),O=k[0],S=k[1];return r.a.createElement("div",{className:"article-form container mx-auto py-4"},r.a.createElement("form",{onSubmit:o((function(e){return l(Object(A.a)(Object(A.a)({},e),{},{published:!0,image:d,body:V(h),short:V(O)}))})),className:"rounded px-8 pt-6 pb-8 mb-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,x.a.t("form.article.Title")),r.a.createElement("input",{type:"text",name:"title",defaultValue:a.title,placeholder:x.a.t("form.article.Title"),ref:s({required:x.a.t("form.validationMessages.required",{field:x.a.t("form.article.Title")})})}),r.a.createElement("span",{className:"input-error"},i.title&&i.title.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,x.a.t("form.article.Image")),r.a.createElement(Z.a,{withIcon:!0,name:"images",label:x.a.t("form.gallery.infoText"),buttonText:x.a.t("form.gallery.UploadForm"),fileSizeError:x.a.t("form.errorMessages.fileSize"),fileTypeError:x.a.t("form.errorMessage.fileExtension"),onChange:p,onDelete:p,singleImage:!0,withPreview:!0,imgExtension:[".jpg",".gif",".png",".jpeg"],fileContainerStyle:{boxShadow:"none"}})),r.a.createElement(n.Suspense,{fallback:r.a.createElement(y,null)},r.a.createElement("label",null,x.a.t("form.article.Content")),r.a.createElement(J,{editorState:h,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",uploadEnabled:!0,uploadCallback:I,onEditorStateChange:N})),r.a.createElement(n.Suspense,{fallback:r.a.createElement(y,null)},r.a.createElement("label",null,x.a.t("form.article.Short")),r.a.createElement(J,{editorState:O,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",uploadEnabled:!0,uploadCallback:I,onEditorStateChange:S})),r.a.createElement("div",{className:"pt-2"},r.a.createElement("button",{type:"submit",className:"btn"},x.a.t("form.article.Submit")))))};var W=function(e){var t=e.articleService,a=Object(i.g)().dispatch,l=Object(N.g)();return Object(n.useEffect)((function(){a({type:i.d,value:x.a.t("pages.articles.create")})}),[a]),r.a.createElement($,{onSubmit:function(e){t.create(Object(A.a)({},e)).then((function(){l.push("/")}))}})};var G=function(e){var t=e.articleService,a=Object(i.g)().dispatch,l=Object(N.g)(),c=Object(N.i)().slug,o=Object(n.useState)(null),s=Object(v.a)(o,2),m=s[0],u=s[1];return Object(n.useEffect)((function(){t.getArticle(c).then((function(e){u(e),a({type:i.d,value:"".concat(x.a.t("pages.articles.edit"),": ").concat(e.title)})}))}),[a,c,t]),null===m?r.a.createElement(y,null):r.a.createElement($,{onSubmit:function(e){t.edit(Object(A.a)(Object(A.a)({},e),{},{id:m.id})).then((function(){l.push("/")}))},article:m})};var X=function(e){var t,a=e.article,n=e.user;return n&&(n.can_edit||n.is_admin)&&(t=r.a.createElement("div",{className:"text-right"},r.a.createElement(h.b,{to:"/articles/".concat(a.slug,"/edit"),className:"btn"},x.a.t("articles.link.edit")))),r.a.createElement("div",{id:"article",className:"container mx-auto py-4"},r.a.createElement("div",{className:"text-right"},t),r.a.createElement("span",{className:"title text-3xl"},a.title),a.image?r.a.createElement("img",{src:a.image,alt:a.title,className:"w-full pt-8"}):"",r.a.createElement("div",{className:"content pt-4",dangerouslySetInnerHTML:{__html:a.body}}))};var Y=function(e){var t=e.articleService,a=Object(n.useState)(null),l=Object(v.a)(a,2),c=l[0],o=l[1],s=Object(i.g)(),m=s.state,u=s.dispatch,d=Object(N.i)().slug;return Object(n.useEffect)((function(){t.getArticle(d).then((function(e){o(e),u({type:i.d,value:e.title})}))}),[t,u,d]),null===c?r.a.createElement(y,null):r.a.createElement(X,{article:c,user:m.user})};var Q=function(){return r.a.createElement("div",{className:"container py-4 mx-auto text-center"},x.a.t("errors.notFound"))},ee=a(148);var te=function(e){var t=e.children,a=e.neededPerm,n=Object(ee.a)(e,["children","neededPerm"]),l=Object(i.g)().state;return r.a.createElement(N.b,Object.assign({},n,{render:function(e){var n,c,o=e.location;return n=a,c=l.user,("admin"===n?c&&c.is_admin:"editor"===n?c&&c.can_edit:"logged"===n?null!==c:"notLogged"===n&&null===c)?t:r.a.createElement(N.a,{to:{pathname:"/not-found",state:{from:o}}})}}))};var ae=function(e){var t=e.userService,a=Object(j.a)(),n=a.handleSubmit,l=a.register,c=a.errors,o=Object(N.g)();return r.a.createElement("form",{onSubmit:n((function(e){var a=e.email;t.forgotPassword(a).then((function(){o.push("/forgot-password/success")}))})),className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,x.a.t("form.forgotPassword.Email")),r.a.createElement("input",{type:"email",name:"email",placeholder:x.a.t("form.login.Email"),ref:l({required:x.a.t("form.validationMessages.required",{field:x.a.t("form.forgotPassword.Email")}),pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:x.a.t("form.validationMessages.invalid_format",{field:x.a.t("form.forgotPassword.Email")})}})}),r.a.createElement("span",{className:"input-error"},c.email&&c.email.message)),r.a.createElement("button",{type:"submit",className:"btn"},x.a.t("form.forgotPassword.Submit")))},ne=function(e){var t=e.userService,a=Object(i.g)().dispatch;return Object(n.useEffect)((function(){a({type:i.d,value:x.a.t("pages.forgotPassword.menuName")})}),[a]),r.a.createElement("div",{className:"container mx-auto py-4"},r.a.createElement("div",{className:"w-full max-w-md mx-auto"},r.a.createElement(ae,{userService:t})))},re=function(){var e=Object(i.g)().dispatch;return Object(n.useEffect)((function(){e({type:i.d,value:x.a.t("pages.forgotPassword.menuName")})}),[e]),r.a.createElement("div",null,r.a.createElement("div",{className:"w-full max-w-md mx-auto"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",className:"fill-current text-orange-500 mb-4 mx-auto w-6/12",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 512 512"},r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M437.019,74.98C388.667,26.629,324.38,0,256,0C187.619,0,123.331,26.629,74.98,74.98C26.628,123.332,0,187.62,0,256    s26.628,132.667,74.98,181.019C123.332,485.371,187.619,512,256,512c68.38,0,132.667-26.629,181.019-74.981    C485.371,388.667,512,324.38,512,256S485.371,123.333,437.019,74.98z M256,482C131.383,482,30,380.617,30,256S131.383,30,256,30    s226,101.383,226,226S380.617,482,256,482z"}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M378.305,173.859c-5.857-5.856-15.355-5.856-21.212,0.001L224.634,306.319l-69.727-69.727    c-5.857-5.857-15.355-5.857-21.213,0c-5.858,5.857-5.858,15.355,0,21.213l80.333,80.333c2.929,2.929,6.768,4.393,10.606,4.393    c3.838,0,7.678-1.465,10.606-4.393l143.066-143.066C384.163,189.215,384.163,179.717,378.305,173.859z"}))),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null)),x.a.t("forgotPassword.success")))};var le=function(e){var t=e.userService,a=Object(j.a)(),n=a.handleSubmit,l=a.register,c=a.errors,o=a.getValues,s=Object(N.g)(),i=new URLSearchParams(s.location.search).get("token");return r.a.createElement("form",{onSubmit:n((function(e){var a=e.password,n=e.confirm;t.resetPassword({password:a,confirm:n,token:i}).then((function(){s.push("/login")}))})),className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,x.a.t("form.resetPassword.Password")),r.a.createElement("input",{type:"password",name:"password",placeholder:x.a.t("form.resetPassword.Password"),ref:l({required:x.a.t("form.validationMessages.required",{field:x.a.t("form.resetPassword.Password")})})}),r.a.createElement("span",{className:"input-error"},c.password&&c.password.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,x.a.t("form.resetPassword.PasswordConfirm")),r.a.createElement("input",{type:"password",name:"confirm",placeholder:x.a.t("form.resetPassword.PasswordConfirm"),ref:l({required:x.a.t("form.validationMessages.required",{field:x.a.t("form.resetPassword.PasswordConfirm")}),validate:{confirm:function(e){return e===o("password")||x.a.t("form.validationMessages.confirm")}}})}),r.a.createElement("span",{className:"input-error"},c.confirm&&c.confirm.message)),r.a.createElement("button",{type:"submit",className:"btn"},x.a.t("form.resetPassword.Submit")))};var ce=function(e){var t=e.userService,a=Object(i.g)().dispatch;return Object(n.useEffect)((function(){a({type:i.d,value:x.a.t("pages.resetPassword.title")})}),[a]),r.a.createElement("div",{className:"container mx-auto py-4"},r.a.createElement(le,{userService:t}))};var oe=function(e){var t=e.onSubmit,a=e.loading,l=Object(n.useState)([]),c=Object(v.a)(l,2),o=c[0],s=c[1];return r.a.createElement("form",{className:"pt-4",onSubmit:function(e){e.preventDefault(),t(o)}},a?r.a.createElement("div",{className:"text-center text-xl p-8"},"Nahravanie..."):r.a.createElement(Z.a,{withIcon:!0,name:"images",label:x.a.t("form.gallery.infoText"),buttonText:x.a.t("form.gallery.UploadForm"),fileSizeError:x.a.t("form.errorMessages.fileSize"),fileTypeError:x.a.t("form.errorMessage.fileExtension"),onChange:s,onDelete:s,withPreview:!0,imgExtension:[".jpg",".gif",".png",".jpeg"],fileContainerStyle:{boxShadow:"none"}}),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"btn",disabled:a},x.a.t("form.gallery.Submit"))))},se=a(9);var ie=function(e){var t=e.uploadService,a=Object(i.g)().dispatch,l=Object(n.useState)(!1),c=Object(v.a)(l,2),o=c[0],s=c[1],m=Object(N.g)(),u=Object(N.i)().category;return Object(n.useEffect)((function(){a({type:i.d,value:x.a.t("pages.gallery.upload")})}),[a]),r.a.createElement("div",{className:"container mx-auto py-4"},r.a.createElement("span",{className:"form-title"},x.a.t("gallery.link.upload")),r.a.createElement(oe,{onSubmit:function(e){s(!0),t.upload(e,u).then((function(){s(!1),m.push("/gallery")}),(function(){s(!1)}))},type:se.a,loading:o}))},me={getCategoryUploads:function(e){return se.f.listUploads({type:se.a,p:1,s:9999,category:e})},getUploadsCategories:function(){return se.f.list(se.a)},create:function(e){var t=e.name,a=e.description;return se.f.createCategory({name:t,description:a,type:se.a,subPath:t.toLowerCase().replace(" ","-")})}};var ue=function(e){var t=e.onSubmit,a=Object(j.a)(),n=a.handleSubmit,l=a.register,c=a.errors;return r.a.createElement("form",{onSubmit:n(t),className:"pt-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,x.a.t("form.gallery.Name")),r.a.createElement("input",{type:"text",name:"name",placeholder:x.a.t("form.gallery.Name"),ref:l({required:x.a.t("form.validationMessages.required",{field:x.a.t("form.gallery.Name")})})}),r.a.createElement("span",{className:"input-error"},c.email&&c.email.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,x.a.t("form.gallery.Desc")),r.a.createElement("input",{type:"text",name:"description",placeholder:x.a.t("form.gallery.Desc"),ref:l({required:x.a.t("form.validationMessages.required",{field:x.a.t("form.gallery.Desc")})})}),r.a.createElement("span",{className:"input-error"},c.email&&c.email.message)),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"btn"},x.a.t("form.gallery.Create"))))};var de=function(e){var t=e.galleryService,a=Object(i.g)().dispatch,l=Object(N.g)();return Object(n.useEffect)((function(){a({type:i.d,value:x.a.t("pages.gallery.create")})}),[a]),r.a.createElement("div",{className:"container mx-auto py-4"},r.a.createElement("span",{className:"form-title"},x.a.t("gallery.link.create")),r.a.createElement(ue,{onSubmit:function(e){t.create(Object(A.a)({},e)).then((function(){l.push("/gallery")}))}}))};var pe=function(e){var t=e.category;return r.a.createElement("div",null,r.a.createElement(h.b,{to:"/gallery/".concat(t.slug)},r.a.createElement("img",{className:"py-3 px-3",src:t.thumbnail,alt:x.a.t("gallery.uploadImagePlaceholder")})),r.a.createElement("h4",null,t.name),r.a.createElement("p",null,t.description))};var ge=function(e){var t=e.galleryService,a=Object(n.useState)(null),l=Object(v.a)(a,2),c=l[0],o=l[1],s=Object(i.g)(),m=s.state,u=s.dispatch,d=[];return Object(n.useEffect)((function(){u({type:i.d,value:x.a.t("pages.gallery.menuName")}),t.getUploadsCategories().then((function(e){o(e)}))}),[t,u]),null!==c&&(d=c.map((function(e){return r.a.createElement(pe,{category:e,key:e.id})}))),null===c?r.a.createElement(y,null):r.a.createElement("div",{className:"container mx-auto py-4"},m.user&&(m.user.can_edit||m.user.is_admin)?r.a.createElement("div",{className:"text-right pt-4"},r.a.createElement(h.b,{className:"btn",to:"/gallery/create"},x.a.t("gallery.link.create"))):null,r.a.createElement("div",{className:"grid grid-cols-3 "},d))},fe=a(143),be=a.n(fe);var Ee=function(e){var t=e.galleryService,a=Object(n.useState)(null),l=Object(v.a)(a,2),c=l[0],o=l[1],s=Object(i.g)(),m=s.state,u=s.dispatch,d=Object(N.i)().category,p=r.a.createRef();return Object(n.useEffect)((function(){u({type:i.d,value:x.a.t("pages.gallery.menuName")}),t.getCategoryUploads(d).then((function(e){o(e)}))}),[t,u,d]),null===c?r.a.createElement(y,null):r.a.createElement("div",{className:"py-4 container mx-auto"},m.user&&(m.user.can_edit||m.user.is_admin)?r.a.createElement("div",{className:"text-right block py-4"},r.a.createElement(h.b,{className:"btn",to:"/gallery/".concat(d,"/upload")},x.a.t("gallery.link.upload"))):null,r.a.createElement(be.a,{items:c.upload.map((function(e){return Object(A.a)(Object(A.a)({},e),{},{original:e.file})})),infinite:!1,lazyLoad:!0,slideDuration:300,showFullscreenButton:!0,showPlayButton:!1,ref:p}))};var ve=function(e){var t=e.pageService,a=Object(i.g)().dispatch,l=Object(N.g)(),c=Object(N.i)(),o=c.id,s=c.category,m=new URLSearchParams(Object(N.h)().search).get("slug");return Object(n.useEffect)((function(){a({type:i.d,value:x.a.t("pages.page.create")})}),[t,a,o,s]),r.a.createElement("div",{className:"container mx-auto py-4"},r.a.createElement("span",{className:"form-title"},x.a.t("page.link.create")),r.a.createElement(B,{onSubmit:function(e){f(s,Object(A.a)(Object(A.a)({},e),{},{parent:{id:parseInt(o)}})).then((function(e){m?l.push("/pages/".concat(s,"/").concat(m)):l.push("/")}))}}))};var he=function(){var e=Object(i.g)().dispatch;return Object(n.useEffect)((function(){e({type:i.d,value:x.a.t("pages.contact.menuName")})})),r.a.createElement("div",{className:"container mx-auto pt-6"},r.a.createElement("div",{className:"grid md:grid-cols-2"},r.a.createElement("div",null,r.a.createElement("h2",{className:"text-2xl font-bold"},"Kontakt"),r.a.createElement("div",{className:"address py-2"},r.a.createElement("h3",{className:"text-xl"},"Adresa"),r.a.createElement("p",null,"R\xedmskokatol\xedcka farnos\u0165"),r.a.createElement("p",null,"Kvetn\xe1 25"),r.a.createElement("p",null," 040 15 Ko\u0161ice - \u0160aca")),r.a.createElement("div",{className:"contact-info"},r.a.createElement("h3",{className:"text-xl"},"Kontaky"),r.a.createElement("p",null,r.a.createElement("a",{href:"mailto:fara@farasaca.sk",className:"text-orange-500"},"fara@farasaca.sk")),r.a.createElement("p",null,r.a.createElement("a",{href:"tel:+421905366257",className:"text-orange-500"},"0905 366 257")),r.a.createElement("p",null,r.a.createElement("a",{href:"tel:+421556841164",className:"text-orange-500"},"055/68 41 164")))),r.a.createElement("div",null,r.a.createElement("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d21093.53752196114!2d21.166266875962947!3d48.63487202302324!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x473f1f3bf0bb1e35%3A0xae07defb6074c81c!2zUsOtbXNrb2thdG9sw61ja3kgRmFyc2vDvSDDmnJhZA!5e0!3m2!1sen!2ssk!4v1605284194949!5m2!1sen!2ssk",width:"100%",height:"100%",frameBorder:"0",allowFullScreen:"","aria-hidden":"false",tabIndex:"0"}))))},Ne=(a(283),a(144));var ye=function(e){var t=e.user,a=Object(n.useState)(!1),l=Object(v.a)(a,2),c=l[0],o=l[1],s="absolute dropdown mt-2 py-2 w-48 bg-white rounded-lg shadow-xl text-right";return c||(s+=" hidden"),t&&(t.can_edit||t.is_admin)?r.a.createElement("button",{className:"rounded-full h-16 w-16 flex items-center justify-center shadow-md fixed bg-white plus-icon cursor-pointer",onClick:function(){return o(!c)}},r.a.createElement("span",{className:"text-2xl"},"+"),r.a.createElement("div",{className:s},r.a.createElement(h.b,{to:"/announcement/create",className:"block px-4 py-2 text-gray-800 hover:bg-blue-500 hover:text-white"},x.a.t("announcement.link.create")),r.a.createElement(h.b,{to:"/articles/create",className:"block px-4 py-2 text-gray-800 hover:bg-blue-500 hover:text-white"},x.a.t("articles.link.create")),r.a.createElement(h.b,{to:"/oznamy/upload/".concat(se.d),className:"block px-4 py-2 text-gray-800 hover:bg-blue-500 hover:text-white"},x.a.t("notice.link.upload")),r.a.createElement(h.b,{to:"/oznamy/upload/".concat(se.b),className:"block px-4 py-2 text-gray-800 hover:bg-blue-500 hover:text-white"},x.a.t("notice.link.uploadMass")),r.a.createElement(h.b,{to:"/oznamy/upload/".concat(se.e),className:"block px-4 py-2 text-gray-800 hover:bg-blue-500 hover:text-white"},x.a.t("notice.link.uploadReadings")),r.a.createElement(h.b,{to:"/most/upload",className:"block px-4 py-2 text-gray-800 hover:bg-blue-500 hover:text-white"},x.a.t("most.link.upload")))):r.a.createElement("div",null)},xe=a(86);var we=function(e){var t=e.articleService,a=Object(n.useState)(null),l=Object(v.a)(a,2),c=l[0],o=l[1],s=new URLSearchParams(Object(N.h)().search).get("page");Object(n.useEffect)((function(){t.getArticles({p:s||1,s:2}).then((function(e){o(e)}))}),[t,s]);var i=[];return c&&c.articles&&c.articles.length&&(i=c.articles.map((function(e){return r.a.createElement("div",{className:"article p-2",key:e.id},r.a.createElement("div",{className:"p-2"},r.a.createElement("h4",{className:"title text-2xl"},r.a.createElement(h.b,{to:"/articles/".concat(e.slug)},e.title)),r.a.createElement("p",{className:"break-words",dangerouslySetInnerHTML:{__html:e.short}})))}))),null===c?r.a.createElement(y,null):r.a.createElement("div",null,r.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 "},i),r.a.createElement(xe.a,{page:c.page,total_pages:c.total_pages}))};var ke=function(e){var t=e.articleService,a=Object(i.g)(),l=a.dispatch,c=a.state;return Object(n.useEffect)((function(){l({type:i.d,value:x.a.t("pages.home.menuName")})})),r.a.createElement("div",{className:"home"},r.a.createElement(Ne.Carousel,{autoPlay:!0,infiniteLoop:!0,showArrows:!1,showThumbs:!1,showStatus:!1,interval:5e3,className:"carousel"},r.a.createElement("div",null,r.a.createElement("img",{src:"/photos/1-min.jpg",alt:"img-1"})),r.a.createElement("div",null,r.a.createElement("img",{src:"/photos/2-min.jpg",alt:"img-2"})),r.a.createElement("div",null,r.a.createElement("img",{src:"/photos/3-min.jpg",alt:"img-3"})),r.a.createElement("div",null,r.a.createElement("img",{src:"/photos/4-min.jpg",alt:"img-4"})),r.a.createElement("div",null,r.a.createElement("img",{src:"/photos/5-min.jpg",alt:"img-5"}))),r.a.createElement("div",{className:"grid md:grid-cols-2 grid-cols-1"},r.a.createElement("div",{className:"oznamy text-center"},r.a.createElement("a",{className:"text-4xl font-bold",href:"/oznamy"},"Aktualne oznamy")),r.a.createElement("div",{className:"most text-center"},r.a.createElement("a",{className:"text-4xl font-bold",href:"/most"},"Aktualne \u010dislo mostu"))),r.a.createElement("div",{className:"py-4"},r.a.createElement("div",{className:"container mx-auto"},r.a.createElement("h3",null,"Aktuality"),r.a.createElement("hr",{className:"py-4"}),r.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4"},r.a.createElement("div",{className:"py-4"},r.a.createElement("a",{href:"https://lc.kbs.sk"},r.a.createElement("img",{src:"https://lc.kbs.sk/?img=2&colors=fff;3B82F6;#000;#000",alt:"lit-calendar",className:"mx-auto md:mx-0"}))),r.a.createElement("div",{className:"md:col-span-3"},r.a.createElement(we,{articleService:t}))))),r.a.createElement("div",{className:"py-4"},r.a.createElement("div",{className:"container mx-auto"})),r.a.createElement("div",{className:"py-4"},r.a.createElement("div",{className:"container mx-auto"},r.a.createElement("h4",null,"Online prenos"),r.a.createElement("hr",{className:"py-4"}),r.a.createElement("div",{className:"md:w-1/2 mx-auto"},r.a.createElement("iframe",{width:"100%",height:"300",src:"https://www.youtube-nocookie.com/embed/Tl8DmgdXx-U",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",title:"Online Prenos",allowFullScreen:!0,className:"mx-auto"})))),r.a.createElement(ye,{user:c.user}))},je=function(e){return u.a.post("/api/v1/announcement",e).then((function(e){return e.data}))},Oe=function(){return u.a.get("/api/v1/announcement").then((function(e){return e.data}))},Se={active:function(){return Oe()},create:function(e){var t=e.message,a=e.expireAt;return je({message:t,expire_at:a})}};var Pe=function(e){var t=e.announcement,a=Object(i.g)().dispatch;return Object(n.useEffect)((function(){null===t&&Se.active().then((function(e){return a({type:i.b,value:e})}))}),[t,a]),t?r.a.createElement("div",{className:"bg-indigo-500"},r.a.createElement("div",{className:"max-w-screen-xl mx-auto py-4 px-3 sm:px-6 lg:px-8"},r.a.createElement("div",{className:"flex items-center justify-between flex-wrap"},r.a.createElement("div",{className:"w-0 flex-1 flex items-center"},r.a.createElement("span",{className:"flex p-2 rounded-lg bg-indigo-800"},r.a.createElement("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"}))),r.a.createElement("p",{className:"ml-3 font-medium text-white truncate"},t.message))))):null},Ce=(a(288),r.a.lazy((function(){return a.e(5).then(a.t.bind(null,451,7))})));var ze=function(e){var t=e.announcementService,a=new Date,l=a.setDate(a.getDate()+1),c=Object(j.a)(),o=c.handleSubmit,s=c.register,m=c.errors,u=Object(n.useState)(l),d=Object(v.a)(u,2),p=d[0],g=d[1],f=Object(n.useState)(null),b=Object(v.a)(f,2),E=b[0],h=b[1],y=Object(i.g)().dispatch,w=Object(N.g)();return r.a.createElement("div",{className:"container mx-auto py-4"},r.a.createElement("span",{className:"form-title"},x.a.t("announcement.link.create")),r.a.createElement("form",{onSubmit:o((function(e){var a=e.message;t.create({message:a,expireAt:p}).then((function(){y({type:i.b,value:null}),w.push("/")}),(function(){h(x.a.t("errors.unknown"))}))})),className:"pt-4"},r.a.createElement(O.a,{error:E}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,x.a.t("form.announcement.Message")),r.a.createElement("input",{type:"text",name:"message",ref:s({required:x.a.t("form.validationMessages.required",{field:x.a.t("form.announcement.Message")})})}),r.a.createElement("span",{className:"input-error"},m.email&&m.email.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,x.a.t("form.announcement.ExpireAt")),r.a.createElement(Ce,{onChange:g,selected:p,minDate:l}),r.a.createElement("span",{className:"input-error"},m.email&&m.email.message)),r.a.createElement("button",{type:"submit",className:"btn"},x.a.t("form.announcement.Submit"))))},_e=a(17),Me=a.n(_e),Te=a(49),Ae=a(33),Ie={upload:function(e,t){return Object(Ae.a)(Me.a.mark((function a(){var n,r,l,c;return Me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=Object(Te.a)(e),a.prev=1,n.s();case 3:if((r=n.n()).done){a.next=11;break}return l=r.value,(c=new FormData).append("file",l),a.next=9,se.f.upload(c,t,se.a);case 9:a.next=3;break;case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(1),n.e(a.t0);case 16:return a.prev=16,n.f(),a.finish(16);case 19:case"end":return a.stop()}}),a,null,[[1,13,16,19]])})))()},uploadOne:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=new FormData;return n.append("file",e),n.append("description",a),se.f.upload(n,t,se.a)},getUploads:function(e){var t=e.type,a=e.page,n=e.category;return se.f.listUploads({page:a,type:t,category:n})},getUpload:function(e){var t=e.type,a=e.category,n=e.id;return se.f.getUpload({type:t,category:a,id:n})}};var Ue=function(){return r.a.createElement("div",{className:"container mx-auto pt-6 links"},r.a.createElement("div",{className:"grid md:grid-cols-3"},r.a.createElement("div",{className:"  flex flex-wrap content-center"},r.a.createElement("a",{href:"https://www.ke-arcidieceza.sk",target:"_blank",rel:"noopener noreferrer",className:"mx-auto"},r.a.createElement("img",{src:"/links/200px-Ko\u0161ick\xe1_arcidiec\xe9za.png",alt:"abuke"}))),r.a.createElement("div",{className:"flex flex-wrap content-center"},r.a.createElement("a",{href:"https://upcke.sk",target:"_blank",rel:"noopener noreferrer",className:"mx-auto"},r.a.createElement("img",{src:"/links/upcke.jpg",alt:"upcke"}))),r.a.createElement("div",{className:"flex flex-wrap content-center"},r.a.createElement("a",{href:"https://www.tkkbs.sk",target:"_blank",rel:"noopener noreferrer",className:"mx-auto"},r.a.createElement("img",{src:"/links/tkkbs.jpg",alt:"tkkbs"})))),r.a.createElement("div",{className:"grid md:grid-cols-3 pt-6"},r.a.createElement("div",{className:"flex flex-wrap content-center"},r.a.createElement("a",{href:"https://lumen.sk",target:"_blank",rel:"noopener noreferrer",className:"mx-auto"},r.a.createElement("img",{src:"/links/lumen.png",alt:"lumen"}))),r.a.createElement("div",{className:"  flex flex-wrap content-center"},r.a.createElement("a",{href:"https://tvlux.sk",target:"_blank",rel:"noopener noreferrer",className:"mx-auto"},r.a.createElement("img",{src:"/links/lux.jpg",alt:"lux"}))),r.a.createElement("div",{className:"flex flex-wrap content-center"},r.a.createElement("a",{href:"https://www.vaticannews.va/sk.html",target:"_blank",rel:"noopener noreferrer",className:"mx-auto"},r.a.createElement("img",{src:"/links/vat.jpg",alt:"vat"})))),r.a.createElement("div",{className:"grid md:grid-cols-3 pt-6"},r.a.createElement("div",{className:"flex flex-wrap content-center"},r.a.createElement("a",{href:"https://tvnoe.cz",target:"_blank",rel:"noopener noreferrer",className:"mx-auto"},r.a.createElement("img",{src:"/links/noe.png",alt:"noe"}))),r.a.createElement("div",{className:"flex flex-wrap content-center"},r.a.createElement("a",{href:"https://radiomaria.sk",target:"_blank",rel:"noopener noreferrer",className:"mx-auto"},r.a.createElement("img",{src:"/links/maria.png",alt:"maria"}))),r.a.createElement("div",{className:"flex flex-wrap content-center"},r.a.createElement("a",{href:"http://katechizmus.sk",target:"_blank",rel:"noopener noreferrer",className:"mx-auto"},r.a.createElement("img",{src:"/links/kkc.jpg",alt:"kkc"})))),r.a.createElement("div",{className:"grid md:grid-cols-3 pt-6"},r.a.createElement("div",{className:"flex flex-wrap content-center"},r.a.createElement("a",{href:"https://breviar.sk",target:"_blank",rel:"noopener noreferrer",className:"mx-auto"},r.a.createElement("img",{src:"/links/breviar.png",alt:"breviar"})))))},De=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(7)]).then(a.bind(null,442))})),qe=Object(n.lazy)((function(){return a.e(12).then(a.bind(null,443))})),Le=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(6)]).then(a.bind(null,444))})),Fe=Object(n.lazy)((function(){return a.e(10).then(a.bind(null,445))})),Ve=Object(n.lazy)((function(){return a.e(13).then(a.bind(null,446))})),Re=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(8)]).then(a.bind(null,447))})),Be=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(9)]).then(a.bind(null,448))})),He=Object(n.lazy)((function(){return a.e(11).then(a.bind(null,449))}));function Ke(e,t){return 0===t.length?e.getPagesByCategory("menu"):Promise.resolve(t)}var Ze=function(e){var t=e.pageService,a=e.userService,l=e.articleService,c=Object(n.useState)(!1),o=Object(v.a)(c,2),s=o[0],m=o[1],u=Object(n.useState)(!0),d=Object(v.a)(u,2),p=d[0],g=d[1],f=Object(i.g)(),E=f.dispatch,w=f.state,j=Object(n.useState)(!1),O=Object(v.a)(j,2),S=O[0],C=O[1];Object(n.useEffect)((function(){null==w.user&&null!=w.token&&w.menuItems.length?(g(!0),a.userInfo().then((function(e){Ke(t,w.menuItems).then((function(t){E({type:i.c,value:t}),E({type:i.f,value:e}),g(!1)}))}))):(g(!0),Ke(t,w.menuItems).then((function(e){E({type:i.c,value:e}),g(!1)})))}),[E,t,w.menuItems,w.user,w.token,a]),Object(n.useEffect)((function(){document.title="".concat(w.title," | Farnos\u0165 \u0160aca")}),[w.title]);var z="w-full lg:block px-6 flex-grow lg:flex lg:items-end lg:w-auto ";z+=s?"block":"hidden";var _=[];w.menuItems.length&&(_=w.menuItems.map((function(e){return r.a.createElement("li",{className:"lg:mr-4 block lg:inline-block",key:"page-".concat(e.id)},r.a.createElement(h.c,{to:"/pages/menu/".concat(e.slug),className:"lg:mt-0 hover:text-blue-800"},e.title))})));var M="absolute dropdown mt-2 py-2 w-48 bg-white rounded-lg shadow-xl text-left";S||(M+=" hidden");var A=w.announcement?"pt-40":"pt-24";return p?r.a.createElement(y,null):r.a.createElement(h.a,null,r.a.createElement("div",null,r.a.createElement("div",{className:"fixed z-50 shadow-md bg-white w-full main-menu"},r.a.createElement("nav",{className:"flex items-center justify-between flex-wrap py-8"},r.a.createElement("div",{className:"block lg:hidden ml-4"},r.a.createElement("button",{onClick:function(){return m(!s)},className:"flex items-center px-3 py-2 border rounded border-white hover:text-blue-800"},r.a.createElement("svg",{className:"fill-current h-3 w-3",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"Menu"),r.a.createElement("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})))),r.a.createElement("div",{className:"flex lg:ml-4 px-6 items-center mr-4"},r.a.createElement("span",{className:"text-blue-800 text-shadow text-2xl font-bold ml-4"},"Farnos\u0165 \u0160aca")),r.a.createElement("div",{className:z},r.a.createElement("ul",{className:"text-sm lg:flex-grow text-center lg:text-right "},r.a.createElement("li",{className:"lg:mr-4 block lg:inline-block"},r.a.createElement(h.c,{to:"/",exact:!0,className:"lg:mt-0 hover:text-blue-800"},x.a.t("pages.home.menuName"))),r.a.createElement("li",{className:"lg:mr-4 block lg:inline-block hidden lg:inline-block"},r.a.createElement(h.c,{to:"/oznamy/",onClick:function(e){e.preventDefault(),C(!0)},onBlur:function(){return setTimeout((function(){return C(!1)}),200)},className:"lg:mt-0 hover:text-blue-800"},x.a.t("pages.notice.menuName")),r.a.createElement("div",{className:M},r.a.createElement(h.b,{to:"/oznamy/weekly",className:"block px-4 py-2 hover:text-blue-800 hover:text-white"},x.a.t("pages.notice.menuName")),r.a.createElement(h.b,{to:"/oznamy/omse",className:"block px-4 py-2 hover:text-blue-800 hover:text-white"},x.a.t("pages.notice.massMenuName")),r.a.createElement(h.b,{to:"/oznamy/citania",className:"block px-4 py-2 hover:text-blue-800 hover:text-white"},x.a.t("pages.notice.readingsMenuName")))),r.a.createElement("li",{className:"lg:mr-4 block lg:hidden"},r.a.createElement(h.c,{to:"/oznamy/weekly",className:"lg:mt-0 hover:text-blue-800"},x.a.t("pages.notice.menuName"))),r.a.createElement("li",{className:"lg:mr-4 block lg:hidden"},r.a.createElement(h.c,{to:"/oznamy/omse",className:"lg:mt-0 hover:text-blue-800"},x.a.t("pages.notice.massMenuName"))),r.a.createElement("li",{className:"lg:mr-4 block lg:hidden"},r.a.createElement(h.c,{to:"/oznamy/citania",className:"lg:mt-0 hover:text-blue-800"},x.a.t("pages.notice.readingsMenuName"))),r.a.createElement("li",{className:"lg:mr-4 block lg:inline-block"},r.a.createElement(h.c,{to:"/most",className:"lg:mt-0 hover:text-blue-800"},x.a.t("pages.most.menuName"))),_,r.a.createElement("li",{className:"lg:mr-4 block lg:inline-block"},r.a.createElement(h.c,{to:"/links",className:"lg:mt-0 hover:text-blue-800"},x.a.t("pages.links.menuName"))),r.a.createElement("li",{className:"lg:mr-4 block lg:inline-block"},r.a.createElement(h.c,{to:"/gallery",className:"lg:mt-0 hover:text-blue-800"},x.a.t("pages.gallery.menuName"))),r.a.createElement("li",{className:"lg:mr-4 block lg:inline-block"},r.a.createElement(h.c,{to:"/contact",className:"lg:mt-0 hover:text-blue-800"},x.a.t("pages.contact.menuName")))))),r.a.createElement(Pe,{announcement:w.announcement})),r.a.createElement("div",{className:"".concat(A," main-content-wrapper mx-auto")},r.a.createElement(n.Suspense,{fallback:r.a.createElement(y,null)},r.a.createElement(N.d,null,r.a.createElement(N.b,{exact:!0,path:"/"},r.a.createElement(ke,{articleService:l})),r.a.createElement(te,{neededPerm:"notLogged",path:"/login"},r.a.createElement(P,{userService:T})),r.a.createElement(te,{neededPerm:"notLogged",path:"/forgot-password/success"},r.a.createElement(re,{userService:T})),r.a.createElement(te,{neededPerm:"notLogged",path:"/forgot-password"},r.a.createElement(ne,{userService:T})),r.a.createElement(te,{neededPerm:"notLogged",path:"/reset-password"},r.a.createElement(ce,{userService:T})),r.a.createElement(te,{neededPerm:"editor",path:"/articles/create"},r.a.createElement(W,{articleService:l})),r.a.createElement(te,{neededPerm:"editor",path:"/articles/:slug/edit"},r.a.createElement(G,{articleService:l})),r.a.createElement(N.b,{path:"/articles/:slug"},r.a.createElement(Y,{articleService:l})),r.a.createElement(N.b,{path:"/oznamy/upload/:type(".concat(se.d,"|").concat(se.e,"|").concat(se.b,")")},r.a.createElement(He,{uploadService:Ie})),r.a.createElement(N.b,{path:"/oznamy/:type(".concat(se.d,"|").concat(se.e,"|").concat(se.b,")/archive")},r.a.createElement(Ve,{uploadService:Ie})),r.a.createElement(N.b,{path:"/oznamy/:type(".concat(se.d,"|").concat(se.e,"|").concat(se.b,")/:id")},r.a.createElement(Re,{uploadService:Ie})),r.a.createElement(N.b,{path:"/oznamy/:type(".concat(se.d,"|").concat(se.e,"|").concat(se.b,")")},r.a.createElement(Be,null)),r.a.createElement(N.b,{path:"/most/archive"},r.a.createElement(qe,{uploadService:Ie})),r.a.createElement(te,{path:"/most/upload",neededPerm:"editor"},r.a.createElement(Fe,{uploadService:Ie})),r.a.createElement(N.b,{path:"/most/:id"},r.a.createElement(Le,{uploadService:Ie})),r.a.createElement(N.b,{path:"/most"},r.a.createElement(De,null)),r.a.createElement(te,{path:"/announcement/create",neededPerm:"editor"},r.a.createElement(ze,{announcementService:Se})),r.a.createElement(te,{neededPerm:"editor",path:"/pages/:category/:slug/edit"},r.a.createElement(H,{pageService:b})),r.a.createElement(te,{neededPerm:"editor",path:"/pages/:category/:id/create"},r.a.createElement(ve,{pageService:b})),r.a.createElement(N.b,{path:"/pages/:category/:parent_slug/:slug"},r.a.createElement(k,{pageService:b})),r.a.createElement(N.b,{path:"/pages/:category/:parent_slug"},r.a.createElement(k,{pageService:b})),r.a.createElement(te,{neededPerm:"editor",path:"/gallery/:category/upload"},r.a.createElement(ie,{uploadService:Ie})),r.a.createElement(te,{neededPerm:"editor",path:"/gallery/create"},r.a.createElement(de,{galleryService:me})),r.a.createElement(N.b,{path:"/gallery/:category"},r.a.createElement(Ee,{galleryService:me})),r.a.createElement(N.b,{path:"/gallery"},r.a.createElement(ge,{galleryService:me})),r.a.createElement(N.b,{path:"/contact"},r.a.createElement(he,null)),r.a.createElement(N.b,{path:"/links"},r.a.createElement(Ue,null)),r.a.createElement(N.b,{path:"*"},r.a.createElement(Q,null))))),r.a.createElement("div",{className:"text-center"},r.a.createElement("p",{className:"text-gray-800 py-8"},(new Date).getFullYear()," \xa9 Farnos\u0165 \u0160aca"))))},Je=(a(289),a(290),a(81)),$e=function(e){return u.a.post("/api/v1/articles",e).then((function(e){return e.data}))},We=function(e){return u.a.put("/api/v1/articles/".concat(e.id),e).then((function(e){return e.data}))},Ge=function(e){return u.a.get("/api/v1/articles/".concat(e.slug)).then((function(e){return e.data}))},Xe=function(e){return u.a.get("/api/v1/articles",{params:e}).then((function(e){return e.data}))},Ye={getArticles:function(e){return Xe({p:e&&e.p?e.p:1,s:e&&e.s?e.s:9})},getArticle:function(e){return Ge({slug:e})},create:function(e){var t=e.body,a=e.title,n=e.short,r=e.published,l=e.image;return l&&l.length?I(l[0]).then((function(e){return $e({body:t,title:a,short:n,published:r,image:e.data.link})})):$e({body:t,title:a,short:n,published:r})},edit:function(e){var t=e.id,a=e.body,n=e.title,r=e.short,l=e.published,c=e.image;return c&&c.length?I(c[0]).then((function(e){return We({id:t,body:a,title:n,short:r,published:l,image:e.data.file})})):We({id:t,body:a,title:n,short:r,published:l})}};a.n(Je).a.locale("sk"),"production"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})&&o.a({dsn:"https://c3752759514d4b57b580d282b49fc338@o254716.ingest.sentry.io/5420367",integrations:[new s.a.BrowserTracing],tracesSampleRate:1}),Object(E.b)(),c.a.render(r.a.createElement(i.a,null,r.a.createElement(Ze,{pageService:b,userService:T,articleService:Ye})),document.getElementById("root"))},3:function(e,t,a){"use strict";a.d(t,"f",(function(){return s})),a.d(t,"e",(function(){return i})),a.d(t,"d",(function(){return m})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return b})),a.d(t,"g",(function(){return E}));var n=a(5),r=a(6),l=a(0),c=a.n(l),o={getItem:function(e){return e&&this.hasOwnProp(e)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)".concat(escape(e).replace(/[\-\.\+\*]/g,"\\$&"),"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*")),"$1")):null},key:function(e){var t=unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[e]);return"undefined"===t?void 0:t},setItem:function(e,t){e&&(document.cookie="".concat(escape(e),"=").concat(escape(t),"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"),this.length=document.cookie.match(/\=/g).length)},length:(document.cookie.match(/\=/g)||window.localStorage).length,removeItem:function(e){e&&this.hasOwnProp(e)&&(document.cookie="".concat(escape(e),"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"),this.length-=1)},hasOwnProp:function(e){return new RegExp("(?:^|;\\s*)".concat(escape(e).replace(/[\-\.\+\*]/g,"\\$&"),"\\s*\\=")).test(document.cookie)},hasOwnProperty:function(e){return this.hasOwnProp(e)}};window.localStorage||(window.localStorage=o);var s="SET_USER_INFO",i="SET_TOKEN",m="SET_PAGE_TITLE",u="SET_MENU_ITEMS",d="SET_ANNOUNCEMENT",p=function(e,t){switch(t.type){case s:return Object(r.a)(Object(r.a)({},e),{},{user:Object(r.a)(Object(r.a)({},e.user),t.value)});case i:return localStorage.setItem("token",t.value),Object(r.a)(Object(r.a)({},e),{},{token:t.value});case m:return e.title===t.value?e:Object(r.a)(Object(r.a)({},e),{},{title:t.value});case u:return Object(r.a)(Object(r.a)({},e),{},{menuItems:t.value});case d:return Object(r.a)(Object(r.a)({},e),{},{announcement:t.value});default:return e}},g={user:null,announcement:null,token:localStorage.getItem("token")||null,title:"",menuItems:[]},f=c.a.createContext(g);function b(e){var t=Object(l.useReducer)(p,g),a=Object(n.a)(t,2),r=a[0],o=a[1];return c.a.createElement(f.Provider,{value:{state:r,dispatch:o}},e.children)}var E=function(){return Object(l.useContext)(f)}},56:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c}));var n=a(11),r=a.n(n),l="https://api-fara.sebastiansimko.sk";function c(e){r.a.defaults.baseURL=l,r.a.interceptors.response.use((function(e){return e}),(function(e){return e.response&&401===e.response.status&&-1===e.request.responseURL.indexOf("api/auth/login")?(document.location="/logout",localStorage.setItem("token",""),Promise.resolve({})):Promise.reject({error:"error",status:e.response?e.response.status:500,message:e&&e.response?e.response.data.message:"Error"})}));var t=e||localStorage.getItem("token");"null"!==t&&t&&(r.a.defaults.headers.common.Authorization="Bearer ".concat(t))}},57:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){var t=e.error;return t?r.a.createElement("div",{className:"py-3"},r.a.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert"},r.a.createElement("strong",{className:"font-bold pl-2"},"Error: "),r.a.createElement("span",{className:"block sm:inline"},t))):null}},86:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(2),c=a(16);t.a=function(e){var t=e.page,a=e.total_pages,n=1===t,o=t===a,s=Object(c.g)(),i=function(e){s.push("".concat(s.location.pathname,"?page=").concat(t+e))};return r.a.createElement("div",{className:"pagination"},n&&o?null:r.a.createElement("div",{className:"pt-6 pb-4"},r.a.createElement("hr",{className:"flex border-gray-600 "})),r.a.createElement("nav",{className:"grid grid-cols-2 "},n?r.a.createElement("div",null):r.a.createElement("button",{onClick:function(){return i(-1)},className:"prev font-semibold text-gray-500 hover:text-gray-600 transition ease-in-out duration-150","aria-label":l.a.t("pagination.Prev")},"\u2190 ",l.a.t("pagination.Prev")),o?r.a.createElement("div",null):r.a.createElement("button",{onClick:function(){return i(1)},className:"next font-semibold  text-gray-500 hover:text-gray-600 transition ease-in-out duration-150","aria-label":l.a.t("pagination.Next")},l.a.t("pagination.Next")," \u2192")))}},9:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return i})),a.d(t,"c",(function(){return m}));var n=a(6),r=a(11),l=a.n(r),c="gallery",o="weekly",s="omse",i="citania",m="most";t.f={list:function(e){return l.a.get("/api/v1/uploads/".concat(e)).then((function(e){return e.data}))},listUploads:function(e){var t=e.type,a=e.category,n=e.s,r=e.p;return l.a.get("/api/v1/uploads/".concat(t,"/").concat(a),{params:{s:n,p:r}}).then((function(e){return e.data}))},createCategory:function(e){var t=e.name,a=e.subPath,n=e.description,r=e.type;return l.a.post("/api/v1/uploads/".concat(r),{name:t,description:n,subPath:a})},upload:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pages";return l.a.post("/api/v1/uploads/".concat(a,"/").concat(t),e,{headers:{"content-type":"multipart/form-data"}}).then((function(e){return Object(n.a)({data:{link:e.data?e.data.file:null}},e.data)}))},getUpload:function(e){var t=e.category,a=e.type,n=e.id;return l.a.get("/api/v1/uploads/".concat(a,"/").concat(t,"/").concat(n)).then((function(e){return e.data}))}}}},[[151,3,4]]]);
//# sourceMappingURL=main.f961955a.chunk.js.map