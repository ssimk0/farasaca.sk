{"version":3,"sources":["components/Upload/UploadForm.jsx","views/Notice/Upload.jsx"],"names":["UploadForm","onSubmit","useForm","handleSubmit","register","errors","className","i18n","t","type","name","ref","required","field","description","message","accept","file","Upload","uploadService","history","useHistory","dispatch","useAppContext","useParams","useEffect","SET_PAGE_TITLE","value","uploadOne","then","push"],"mappings":"qGAAA,mCA2CeA,IAvCf,YAAiC,IAAZC,EAAW,EAAXA,SAAW,EACWC,cAAlCC,EADuB,EACvBA,aAAcC,EADS,EACTA,SAAUC,EADD,EACCA,OAE/B,OACE,0BAAMJ,SAAUE,EAAaF,GAAWK,UAAU,QAChD,yBAAKA,UAAU,cACb,+BAAQC,IAAKC,EAAE,4BACf,6BACE,2BAAOC,KAAK,OAAOC,KAAK,cACjBC,IAAKP,EAAS,CACZQ,SAAUL,IAAKC,EAAE,mCAAoC,CAACK,MAAON,IAAKC,EAAE,kCAI/E,0BAAMF,UAAU,eACXD,EAAOS,aAAeT,EAAOS,YAAYC,UAGhD,yBAAKT,UAAU,cACb,+BAAQC,IAAKC,EAAE,qBACf,6BACE,2BAAOC,KAAK,OAAOC,KAAK,OACjBM,OAAO,uBACPL,IAAKP,EAAS,CACZQ,SAAUL,IAAKC,EAAE,mCAAoC,CAACK,MAAON,IAAKC,EAAE,2BAI/E,0BAAMF,UAAU,eACXD,EAAOY,MAAQZ,EAAOY,KAAKF,UAGlC,6BACE,4BAAQN,KAAK,SAASH,UAAU,OAAOC,IAAKC,EAAE,2B,iCCrCtD,0DA8BeU,UAxBf,YAAkC,IAAjBC,EAAgB,EAAhBA,cACTC,EAAUC,cACTC,EAAYC,cAAZD,SACAb,EAAQe,cAARf,KAYP,OAVAgB,qBAAU,WACRH,EAAS,CAACb,KAAMiB,IAAgBC,MAAOpB,IAAKC,EAAE,4BAU9C,yBAAKF,UAAU,0BACb,0BAAMA,UAAU,cAAcC,IAAKC,EAAE,uBACrC,kBAAC,IAAD,CAAYP,SAThB,YAA4C,IAArBgB,EAAoB,EAApBA,KAAMH,EAAc,EAAdA,YAC3BK,EAAcS,UAAUX,EAAK,GAAIR,EAAMK,GAAae,MAAK,WACvDT,EAAQU,KAAK,WAAarB","file":"static/js/11.e5a523ce.chunk.js","sourcesContent":["import React from \"react\";\nimport i18n from \"../../utils/i18n\";\nimport {useForm} from \"react-hook-form\";\n\nfunction UploadForm({onSubmit}) {\n  const {handleSubmit, register, errors} = useForm();\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className=\"pt-4\">\n      <div className=\"form-group\">\n        <label>{i18n.t(\"form.notice.Description\")}</label>\n        <div>\n          <input type=\"text\" name=\"description\"\n                 ref={register({\n                   required: i18n.t(\"form.validationMessages.required\", {field: i18n.t(\"form.notice.Description\")}),\n                 })}\n          />\n        </div>\n        <span className=\"input-error\">\n            {errors.description && errors.description.message}\n        </span>\n      </div>\n      <div className=\"form-group\">\n        <label>{i18n.t(\"form.notice.File\")}</label>\n        <div>\n          <input type=\"file\" name=\"file\"\n                 accept=\"application/pdf,.pdf\"\n                 ref={register({\n                   required: i18n.t(\"form.validationMessages.required\", {field: i18n.t(\"form.notice.File\")}),\n                 })}\n          />\n        </div>\n        <span className=\"input-error\">\n            {errors.file && errors.file.message}\n        </span>\n      </div>\n      <div>\n        <button type=\"submit\" className=\"btn\">{i18n.t(\"form.notice.Submit\")}</button>\n      </div>\n    </form>\n  )\n}\n\nexport default UploadForm\n","import UploadForm from \"../../components/Upload/UploadForm\";\nimport React, {useEffect} from \"react\";\nimport i18n from \"../../utils/i18n\";\nimport {useHistory, useParams} from \"react-router-dom\";\nimport {SET_PAGE_TITLE, useAppContext} from \"../../context/app\";\n\nfunction Upload({uploadService}) {\n  const history = useHistory();\n  const {dispatch} = useAppContext();\n  const {type} = useParams();\n\n  useEffect(() => {\n    dispatch({type: SET_PAGE_TITLE, value: i18n.t(\"pages.notice.upload\")});\n  });\n\n  function handleSubmit({file, description}) {\n    uploadService.uploadOne(file[0], type, description).then(() => {\n      history.push(\"/oznamy/\" + type)\n    })\n  }\n\n  return (\n    <div className=\"container mx-auto py-4\">\n      <span className=\"form-title\">{i18n.t(\"notice.link.upload\")}</span>\n      <UploadForm onSubmit={handleSubmit}/>\n    </div>\n  )\n}\n\n\nexport default Upload\n"],"sourceRoot":""}