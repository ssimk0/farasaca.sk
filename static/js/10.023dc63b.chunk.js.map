{"version":3,"sources":["views/Most/Archiv.jsx"],"names":["ArchiveMost","uploadService","useState","uploads","setUploads","error","setError","page","URLSearchParams","useLocation","search","get","dispatch","useAppContext","useEffect","type","SET_PAGE_TITLE","value","i18n","t","getUploads","category","MOST_TYPE","then","u","err","className","upload","map","key","id","to","description","total_pages"],"mappings":"2LAiDeA,UAzCf,YAAuC,IAAjBC,EAAgB,EAAhBA,cAAgB,EACNC,mBAAS,MADH,mBAC7BC,EAD6B,KACpBC,EADoB,OAEVF,mBAAS,MAFC,mBAE7BG,EAF6B,KAEtBC,EAFsB,KAI9BC,EADQ,IAAIC,gBAAgBC,cAAcC,QAC7BC,IAAI,QAChBC,EAAYC,cAAZD,SAkBP,OAfAE,qBAAU,WACRF,EAAS,CAACG,KAAMC,IAAgBC,MAAOC,IAAKC,EAAE,wBAE9ClB,EAAcmB,WAAW,CACvBL,KAAM,OACNM,SAAUC,IACVf,SACCgB,MAAK,SAACC,GACPpB,EAAWoB,MACV,SAACC,GACFnB,EAASmB,QAEV,CAACb,EAAUL,EAAMN,IAGbE,GACL,yBAAKuB,UAAU,0BACb,kBAAC,IAAD,CAAOrB,MAAOA,IACd,0BAAMqB,UAAU,cAAcR,IAAKC,EAAE,iBACrC,yBAAKO,UAAU,QACb,4BACGvB,EAAQwB,QAAUxB,EAAQwB,OAAOC,KAAI,SAACJ,GAAD,OACpC,wBAAIK,IAAK,QAAUL,EAAEM,IACnB,kBAAC,IAAD,CAAMC,GAAE,gBAAWP,EAAEM,KAAON,EAAEQ,mBAKtC,kBAAC,IAAD,CAAYzB,KAAMJ,EAAQI,KAAM0B,YAAa9B,EAAQ8B","file":"static/js/10.023dc63b.chunk.js","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {MOST_TYPE} from \"../../api/upload\";\nimport Pagination from \"../../components/Pagination/Pagination\";\nimport {Link, useLocation} from \"react-router-dom\";\nimport Error from \"../../components/Error/Error\";\nimport i18n from \"../../utils/i18n\";\nimport {SET_PAGE_TITLE, useAppContext} from \"../../context/app\";\n\nfunction ArchiveMost({uploadService}) {\n  const [uploads, setUploads] = useState(null);\n  const [error, setError] = useState(null);\n  const query = new URLSearchParams(useLocation().search);\n  const page = query.get(\"page\");\n  const {dispatch} = useAppContext();\n\n\n  useEffect(() => {\n    dispatch({type: SET_PAGE_TITLE, value: i18n.t(\"pages.most.archive\")});\n\n    uploadService.getUploads({\n      type: \"menu\",\n      category: MOST_TYPE,\n      page,\n    }).then((u) => {\n      setUploads(u)\n    }, (err) => {\n      setError(err)\n    })\n  }, [dispatch, page, uploadService])\n\n\n  return uploads && (\n    <div className=\"container mx-auto py-4\">\n      <Error error={error}/>\n      <span className=\"form-title\">{i18n.t(\"most.archive\")}</span>\n      <div className=\"pt-4\">\n        <ul>\n          {uploads.upload && uploads.upload.map((u) => (\n            <li key={'most-' + u.id}>\n              <Link to={`/most/${u.id}`}>{u.description}</Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n      <Pagination page={uploads.page} total_pages={uploads.total_pages}/>\n    </div>\n  )\n}\n\nexport default ArchiveMost\n"],"sourceRoot":""}