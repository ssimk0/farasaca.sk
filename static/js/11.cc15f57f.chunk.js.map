{"version":3,"sources":["views/Most/Upload.jsx"],"names":["UploadMost","uploadService","history","useHistory","dispatch","useAppContext","useEffect","type","SET_PAGE_TITLE","value","i18n","t","className","onSubmit","file","description","length","uploadOne","MOST_TYPE","then","push"],"mappings":"qGAAA,gEAgCeA,UAzBf,YAAsC,IAAjBC,EAAgB,EAAhBA,cACbC,EAAUC,cACTC,EAAYC,cAAZD,SAcP,OAZAE,qBAAU,WACRF,EAAS,CAACG,KAAMC,IAAgBC,MAAOC,IAAKC,EAAE,0BAY9C,yBAAKC,UAAU,0BACb,0BAAMA,UAAU,cAAcF,IAAKC,EAAE,qBACrC,kBAAC,IAAD,CAAYE,SAXhB,YAA4C,IAArBC,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,YACvBD,GAAQA,EAAKE,OAAS,GACxBf,EAAcgB,UAAUH,EAAK,GAAII,IAAWH,GAAaI,MAAK,WAC5DjB,EAAQkB,KAAK","file":"static/js/11.cc15f57f.chunk.js","sourcesContent":["import UploadForm from \"../../components/Upload/UploadForm\";\nimport React, {useEffect} from \"react\";\nimport i18n from \"../../utils/i18n\";\nimport {MOST_TYPE} from \"../../api/upload\";\nimport {useHistory} from \"react-router-dom\";\nimport {SET_PAGE_TITLE, useAppContext} from \"../../context/app\";\n\nfunction UploadMost({uploadService}) {\n  const history = useHistory();\n  const {dispatch} = useAppContext();\n\n  useEffect(() => {\n    dispatch({type: SET_PAGE_TITLE, value: i18n.t(\"pages.most.upload\")});\n  });\n\n  function handleSubmit({file, description}) {\n    if (file && file.length > 0) {\n      uploadService.uploadOne(file[0], MOST_TYPE, description).then(() => {\n        history.push(\"/most\")\n      })\n    }\n  }\n\n  return (\n    <div className=\"container mx-auto py-4\">\n      <span className=\"form-title\">{i18n.t(\"most.link.upload\")}</span>\n      <UploadForm onSubmit={handleSubmit}/>\n    </div>\n  )\n}\n\n\nexport default UploadMost\n"],"sourceRoot":""}