{"version":3,"sources":["views/Notice/Archive.jsx"],"names":["ArchiveNotice","uploadService","useState","uploads","setUploads","error","setError","page","URLSearchParams","useLocation","search","get","dispatch","useAppContext","type","useParams","useEffect","SET_PAGE_TITLE","value","i18n","t","getUploads","category","then","u","err","className","upload","map","key","id","to","description","total_pages"],"mappings":"oLAiDeA,UA1Cf,YAAyC,IAAjBC,EAAgB,EAAhBA,cAAgB,EACRC,mBAAS,MADD,mBAC/BC,EAD+B,KACtBC,EADsB,OAEZF,mBAAS,MAFG,mBAE/BG,EAF+B,KAExBC,EAFwB,KAIhCC,EADQ,IAAIC,gBAAgBC,cAAcC,QAC7BC,IAAI,QAChBC,EAAYC,cAAZD,SACAE,EAAQC,cAARD,KAkBP,OAfAE,qBAAU,WACRJ,EAAS,CAACE,KAAMG,IAAgBC,MAAOC,IAAKC,EAAE,0BAE9CnB,EAAcoB,WAAW,CACvBP,KAAM,OACNQ,SAAUR,EACVP,SACCgB,MAAK,SAACC,GACPpB,EAAWoB,MACV,SAACC,GACFnB,EAASmB,QAEV,CAACb,EAAUL,EAAMO,EAAMb,IAGnBE,GACL,yBAAKuB,UAAU,0BACb,kBAAC,IAAD,CAAOrB,MAAOA,IACd,0BAAMqB,UAAU,cAAcP,IAAKC,EAAE,mBACrC,yBAAKM,UAAU,QACb,4BACGvB,EAAQwB,QAAUxB,EAAQwB,OAAOC,KAAI,SAACJ,GAAD,OACpC,wBAAIK,IAAK,QAAUL,EAAEM,IACnB,kBAAC,IAAD,CAAMC,GAAE,kBAAajB,EAAb,YAAqBU,EAAEM,KAAON,EAAEQ,mBAKhD,kBAAC,IAAD,CAAYzB,KAAMJ,EAAQI,KAAM0B,YAAa9B,EAAQ8B","file":"static/js/13.c945061b.chunk.js","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport Pagination from \"../../components/Pagination/Pagination\";\nimport {Link, useLocation, useParams} from \"react-router-dom\";\nimport Error from \"../../components/Error/Error\";\nimport i18n from \"../../utils/i18n\";\nimport {SET_PAGE_TITLE, useAppContext} from \"../../context/app\";\n\nfunction ArchiveNotice({uploadService}) {\n  const [uploads, setUploads] = useState(null);\n  const [error, setError] = useState(null);\n  const query = new URLSearchParams(useLocation().search);\n  const page = query.get(\"page\");\n  const {dispatch} = useAppContext();\n  const {type} = useParams();\n\n\n  useEffect(() => {\n    dispatch({type: SET_PAGE_TITLE, value: i18n.t(\"pages.notice.archive\")});\n\n    uploadService.getUploads({\n      type: \"menu\",\n      category: type,\n      page,\n    }).then((u) => {\n      setUploads(u)\n    }, (err) => {\n      setError(err)\n    })\n  }, [dispatch, page, type, uploadService])\n\n\n  return uploads && (\n    <div className=\"container mx-auto py-4\">\n      <Error error={error}/>\n      <span className=\"form-title\">{i18n.t(\"notice.archive\")}</span>\n      <div className=\"pt-4\">\n        <ul>\n          {uploads.upload && uploads.upload.map((u) => (\n            <li key={'most-' + u.id}>\n              <Link to={`/oznamy/${type}/${u.id}`}>{u.description}</Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n      <Pagination page={uploads.page} total_pages={uploads.total_pages}/>\n    </div>\n  )\n}\n\nexport default ArchiveNotice\n"],"sourceRoot":""}