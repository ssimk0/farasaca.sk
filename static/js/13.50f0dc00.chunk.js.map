{"version":3,"sources":["views/Notice/Upload.jsx"],"names":["Upload","uploadService","history","useHistory","dispatch","useAppContext","type","useParams","useState","error","setError","useEffect","SET_PAGE_TITLE","value","i18n","t","className","onSubmit","file","description","uploadOne","then","push","err"],"mappings":"6KAoCeA,UA7Bf,YAAkC,IAAjBC,EAAgB,EAAhBA,cACTC,EAAUC,cACTC,EAAYC,cAAZD,SACAE,EAAQC,cAARD,KAHwB,EAILE,mBAAS,MAJJ,mBAIxBC,EAJwB,KAIjBC,EAJiB,KAmB/B,OAbAC,qBAAU,WACRP,EAAS,CAACE,KAAMM,IAAgBC,MAAOC,IAAKC,EAAE,4BAa9C,yBAAKC,UAAU,0BACb,kBAAC,IAAD,CAAOP,MAAOA,IACd,0BAAMO,UAAU,cAAcF,IAAKC,EAAE,uBACrC,kBAAC,IAAD,CAAYE,SAbhB,YAA4C,IAArBC,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,YAE3B,OADAT,EAAS,MACFT,EAAcmB,UAAUF,EAAK,GAAIZ,EAAMa,GAAaE,MAAK,WAC9DnB,EAAQoB,KAAK,WAAahB,MACzB,SAACiB,GACFb,EAASI,IAAKC,EAAE","file":"static/js/13.50f0dc00.chunk.js","sourcesContent":["import UploadForm from \"../../components/Upload/UploadForm\";\nimport React, {useEffect, useState} from \"react\";\nimport i18n from \"../../utils/i18n\";\nimport {useHistory, useParams} from \"react-router-dom\";\nimport {SET_PAGE_TITLE, useAppContext} from \"../../context/app\";\nimport Error from \"../../components/Error/Error\";\n\nfunction Upload({uploadService}) {\n  const history = useHistory();\n  const {dispatch} = useAppContext();\n  const {type} = useParams();\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    dispatch({type: SET_PAGE_TITLE, value: i18n.t(\"pages.notice.upload\")});\n  });\n\n  function handleSubmit({file, description}) {\n    setError(null)\n    return uploadService.uploadOne(file[0], type, description).then(() => {\n      history.push(\"/oznamy/\" + type)\n    }, (err) => {\n      setError(i18n.t('errors.unknown'))\n    })\n  }\n\n  return (\n    <div className=\"container mx-auto py-4\">\n      <Error error={error}/>\n      <span className=\"form-title\">{i18n.t(\"notice.link.upload\")}</span>\n      <UploadForm onSubmit={handleSubmit}/>\n    </div>\n  )\n}\n\n\nexport default Upload\n"],"sourceRoot":""}