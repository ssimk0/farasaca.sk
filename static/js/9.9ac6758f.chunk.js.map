{"version":3,"sources":["components/Notice/Detail.jsx","views/Notice/Notice.jsx"],"names":["Detail","file","pdfjs","GlobalWorkerOptions","workerSrc","version","useState","numPages","setNumPages","error","i18n","t","loading","onLoadSuccess","Array","from","el","index","key","pageNumber","scale","Notice","useAppContext","state","dispatch","type","useParams","useEffect","SET_PAGE_TITLE","value","className","user","is_admin","to","BASE_API_URL"],"mappings":"4PAoCeA,IA9Bf,YAAyB,IAARC,EAAO,EAAPA,KACfC,IAAMC,oBAAoBC,UAA1B,kDAAiFF,IAAMG,QAAvF,kBADsB,MAEUC,mBAAS,MAFnB,mBAEfC,EAFe,KAELC,EAFK,KAOtB,OACE,kBAAC,IAAD,CACEP,KAAMA,EACNQ,MAAOC,IAAKC,EAAE,oBACdC,QAASF,IAAKC,EAAE,sBAChBE,cATJ,YAA4C,IAAZN,EAAW,EAAXA,SAC9BC,EAAYD,KAWRO,MAAMC,KACJ,IAAID,MAAMP,IACV,SAACS,EAAIC,GAAL,OACE,kBAAC,IAAD,CACEC,IAAG,eAAUD,EAAQ,GACrBE,WAAYF,EAAQ,EACpBG,MAAO,U,iCC3BrB,yEAkCeC,UA3Bf,WAAmB,IAAD,EACUC,cAAnBC,EADS,EACTA,MAAOC,EADE,EACFA,SACPC,EAAQC,cAARD,KAMP,OAJAE,qBAAU,WACRH,EAAS,CAACC,KAAMG,IAAgBC,MAAOnB,IAAKC,EAAL,uBAAuBc,EAAvB,kBAIvC,yBAAKK,UAAU,yBACZP,EAAMQ,MAASR,EAAMQ,KAAKC,SACxB,yBAAKF,UAAU,yBACd,kBAAC,IAAD,CAAMA,UAAU,MAAMG,GAAE,yBAAoBR,IACzCf,IAAKC,EAAE,yBAEF,KAEZ,0BAAMmB,UAAU,2BAA2BpB,IAAKC,EAAL,uBAAuBc,EAAvB,YAC3C,kBAAC,IAAD,CAAQxB,KAAI,UAAKiC,IAAL,gCAAyCT,EAAzC,aAEZ,kBAAC,IAAD,CAAMQ,GAAE,kBAAaR,EAAb,aACN,8BAAOf,IAAKC,EAAE","file":"static/js/9.9ac6758f.chunk.js","sourcesContent":["import {Document, Page, pdfjs} from \"react-pdf\";\nimport React, {useState} from \"react\";\nimport 'react-pdf/dist/esm/Page/AnnotationLayer.css';\nimport i18n from \"../../utils/i18n\";\n\n\nfunction Detail({file}) {\n  pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\n  const [numPages, setNumPages] = useState(null);\n  function onDocumentLoadSuccess({numPages}) {\n    setNumPages(numPages);\n  }\n\n  return (\n    <Document\n      file={file}\n      error={i18n.t(\"pdf-reader.error\")}\n      loading={i18n.t(\"pdf-reader.loading\")}\n      onLoadSuccess={onDocumentLoadSuccess}\n    >\n      {\n        Array.from(\n          new Array(numPages),\n          (el, index) => (\n            <Page\n              key={`page_${index + 1}`}\n              pageNumber={index + 1}\n              scale={2.0}\n            />\n          ),\n        )\n      }\n    </Document>\n  )\n}\n\nexport default Detail\n","import React, {useEffect} from \"react\";\nimport {SET_PAGE_TITLE, useAppContext} from \"../../context/app\";\nimport i18n from \"../../utils/i18n\";\nimport {BASE_API_URL} from \"../../api\";\nimport {Link, useParams} from \"react-router-dom\";\nimport Detail from '../../components/Notice/Detail';\n\nfunction Notice() {\n  const {state, dispatch} = useAppContext();\n  const {type} = useParams();\n\n  useEffect(() => {\n    dispatch({type: SET_PAGE_TITLE, value: i18n.t(`pages.notice.${type}MenuName`)});\n  });\n\n  return (\n    <div className=\"p-4 container mx-auto\">\n      {state.user && (state.user.is_admin) ?\n        (<div className=\"text-right block py-4\">\n          <Link className=\"btn\" to={`/oznamy/upload/${type}`}>\n            {i18n.t(\"pages.notice.upload\")}\n          </Link>\n        </div>) : null\n      }\n      <span className=\"form-title inline-block\">{i18n.t(`pages.notice.${type}Actual`)}</span>\n      <Detail file={`${BASE_API_URL}/api/v1/uploads/menu/${type}/latest`}/>\n\n      <Link to={`/oznamy/${type}/archive`}>\n        <span>{i18n.t(\"notice.link.archive\")}</span>\n      </Link>\n    </div>\n  )\n}\n\nexport default Notice\n"],"sourceRoot":""}