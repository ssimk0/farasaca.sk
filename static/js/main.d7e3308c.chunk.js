(this.webpackJsonpintegra=this.webpackJsonpintegra||[]).push([[1],{188:function(e){e.exports=JSON.parse('{"pages":{"login":{"menuName":"Prihl\xe1senie"},"home":{"menuName":"Domov"},"articles":{"menuName":"Aktuality","create":"Vytvori\u0165 \u010dl\xe1nok","edit":"Upravi\u0165 \u010dl\xe1nok"},"gallery":{"menuName":"Fotogaleria","upload":"Nahra\u0165 Foto","create":"Vytvori\u0165 Album"},"page":{"edit":"Upravi\u0165 str\xe1nku","create":"Vytvori\u0165 str\xe1nku"},"forgotPassword":{"menuName":"Zabudnut\xe9 heslo"},"resetPassword":{"title":"Reset hesla"},"contact":{"menuName":"Kontakt"},"notice":{"menuName":"Oznamy","actual":"Aktu\xe1lne oznamy","upload":"Nahra\u0165"},"most":{"menuName":"Most","upload":"Nahra\u0165","archive":"Archiv","detail":"Archiv"}},"articles":{"created":"Vytvoren\xe9","top":"Naj\u010ditanej\u0161ie","link":{"create":"Vytvori\u0165","edit":"Upravi\u0165"}},"most":{"actual":"Aktu\xe1lne \u010dislo mostu","archive":"Arch\xedv mostu","link":{"archive":"Star\u0161ie \u010d\xedsla mostu","upload":"Nahra\u0165 Most","back":"< Nasp\xe4\u0165 do arch\xedvu"}},"page":{"link":{"create":"Vytrvori\u0165 podstr\xe1nku","edit":"Upravi\u0165"}},"gallery":{"uploadImagePlaceholder":"Obr\xe1zok gallerie","link":{"create":"Vytvori\u0165 Album","upload":"Nahra\u0165 fotky"}},"announcement":{"link":{"create":"Vytvori\u0165 upozornenie"}},"notice":{"link":{"upload":"Nahra\u0165 Oznamy"}},"actions":{"logout":"Odhl\xe1si\u0165"},"forgotPassword":{"success":"Postup pre reset hesla najde\u0161 vo svojom emaile, ak si zadal spr\xe1vny email"},"form":{"login":{"Email":"Email","Password":"Heslo","Submit":"Prihl\xe1si\u0165"},"announcement":{"Message":"Sprava","ExpireAt":"Do kedy ju zobrazova\u0165","Submit":"Ulo\u017ei\u0165"},"article":{"Title":"Titulok","Short":"Skraten\xfd tvar","Content":"\u010cl\xe1nok","Published":"Zverejnen\xfd","Submit":"Ulo\u017ei\u0165"},"pages":{"Title":"Titulok","Body":"Obash","Submit":"Ulo\u017ei\u0165"},"resetPassword":{"Password":"Heslo","PasswordConfirm":"Potvrdenie hesla","Submit":"Ulo\u017ei\u0165"},"forgotPassword":{"Email":"Email","Submit":"Odosla\u0165"},"notice":{"File":"Subor","Description":"Popis","Submit":"Nahra\u0165"},"gallery":{"Upload":"Vyberte obr\xe1zky","UploadForm":"Vybra\u0165","Submit":"Nahra\u0165","Name":"Meno","Desc":"Popis","Create":"Vytvori\u0165","infoText":"Vyberte subory s priponou jpg, gif, png, jpeg a maximalnou ve\u013ekostou 5mb"},"validationMessages":{"required":"Pole \'{{field}}\' je povinn\xe9","invalid_format":"Pole \'{{field}}\' nieje v spravnom form\xe1te","confirm":"Hesla musia by\u0165 rovnak\xe9","fileSize":"Ve\u013ekos\u0165 suboru je pr\xedli\u0161 ve\u013ek\xe1","fileExtension":"Typ s\xfaboru nieje podporovan\xfd"}},"pagination":{"Prev":"Predchadzaj\xface","Next":"\u010eal\u0161ie"},"errors":{"login":"heslo alebo email je zle skuste to znova","unknown":"nastala chyba skuste to znova","notFound":"Str\xe1nka sa nena\u0161la"}}')},202:function(e,t,a){e.exports=a(423)},359:function(e,t){},360:function(e,t){},361:function(e,t){},362:function(e,t){},363:function(e,t){},420:function(e,t,a){},421:function(e,t,a){},423:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(40),c=a.n(l),o=a(433),s=a(198),i=a(6),m=a(8),u={getItem:function(e){return e&&this.hasOwnProp(e)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)".concat(escape(e).replace(/[\-\.\+\*]/g,"\\$&"),"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*")),"$1")):null},key:function(e){var t=unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[e]);return"undefined"===t?void 0:t},setItem:function(e,t){e&&(document.cookie="".concat(escape(e),"=").concat(escape(t),"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"),this.length=document.cookie.match(/\=/g).length)},length:(document.cookie.match(/\=/g)||window.localStorage).length,removeItem:function(e){e&&this.hasOwnProp(e)&&(document.cookie="".concat(escape(e),"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"),this.length-=1)},hasOwnProp:function(e){return new RegExp("(?:^|;\\s*)".concat(escape(e).replace(/[\-\.\+\*]/g,"\\$&"),"\\s*\\=")).test(document.cookie)},hasOwnProperty:function(e){return this.hasOwnProp(e)}};window.localStorage||(window.localStorage=u);var p="SET_PAGE_TITLE",d=function(e,t){switch(t.type){case"SET_USER_INFO":return Object(m.a)(Object(m.a)({},e),{},{user:Object(m.a)(Object(m.a)({},e.user),t.value)});case"SET_TOKEN":return localStorage.setItem("token",t.value),Object(m.a)(Object(m.a)({},e),{},{token:t.value});case p:return e.title===t.value?e:Object(m.a)(Object(m.a)({},e),{},{title:t.value});case"SET_MENU_ITEMS":return Object(m.a)(Object(m.a)({},e),{},{menuItems:t.value});case"SET_ANNOUNCEMENT":return Object(m.a)(Object(m.a)({},e),{},{announcement:t.value});default:return e}},g={user:null,announcement:null,token:localStorage.getItem("token")||null,title:"",menuItems:[]},f=r.a.createContext(g);function E(e){var t=Object(n.useReducer)(d,g),a=Object(i.a)(t,2),l=a[0],c=a[1];return r.a.createElement(f.Provider,{value:{state:l,dispatch:c}},e.children)}var v=function(){return Object(n.useContext)(f)},b=a(13),h=a.n(b),y=function(e,t){return h.a.get("/api/v1/pages/".concat(t,"/").concat(e)).then((function(e){return e.data}))},N=function(e){return h.a.get("/api/v1/pages/".concat(e)).then((function(e){return e.data}))},x=function(e,t){return h.a.put("/api/v1/pages/".concat(t.id),{title:t.title,body:t.body})},S=function(e,t){return h.a.post("/api/v1/pages/".concat(e),t).then((function(e){return e.data}))},w={getPage:function(e,t){return y(e,t)},getPagesByCategory:function(e){return N(e)}},j="https://api-fara.sebastiansimko.sk";function O(e){h.a.defaults.baseURL=j,h.a.interceptors.response.use((function(e){return e}),(function(e){return e.response&&401===e.response.status&&-1===e.request.responseURL.indexOf("api/auth/login")?(document.location="/logout",localStorage.setItem("token",""),Promise.resolve({})):Promise.reject({error:"error",status:e.response?e.response.status:500,message:e&&e.response?e.response.data.message:"Error"})}));var t=e||localStorage.getItem("token");"null"!==t&&t&&(h.a.defaults.headers.common.Authorization="Bearer ".concat(t))}a(223);var k=a(7),P=a(20);var C=function(){return r.a.createElement("div",{className:"mt-8"},r.a.createElement("div",{className:"loader mx-auto"}))},_=a(188),T=a(124);T.a.init({interpolation:{escapeValue:!1},lng:"sk",resources:{sk:{translation:_}}});var M=T.a;var z=function(e){var t,a,n,l=e.page,c=e.parent_page,o=e.user,s=e.parent_slug;if(o&&(o.can_edit||o.is_admin)&&(t=r.a.createElement(k.b,{to:"/pages/".concat(l.page_category.slug,"/").concat(l.slug,"/edit"),className:"btn"},M.t("page.link.edit")),c.slug===l.slug&&(a=r.a.createElement(k.b,{to:"/pages/".concat(l.page_category.slug,"/").concat(l.id,"/create?slug=").concat(l.slug),className:"btn mr-4"},M.t("page.link.create")))),c&&c.children&&c.children.length){n=r.a.createElement("div",null,r.a.createElement("ul",{className:"text-left"},r.a.createElement("li",{className:"px-4 py-2"},r.a.createElement(k.c,{to:"/pages/".concat(c.page_category.slug,"/").concat(s),exact:!0},c.title)),c.children.map((function(e){return r.a.createElement("li",{className:"px-4 py-2",key:e.id},r.a.createElement(k.c,{to:"/pages/".concat(e.page_category.slug,"/").concat(s,"/").concat(e.slug)},e.title))}))))}return r.a.createElement("div",{id:"page",className:"container mx-auto py-4"},r.a.createElement("div",null,r.a.createElement("div",{className:"text-right pt-4"},a,t)),r.a.createElement("div",{className:"grid grid-cols-4"},n,r.a.createElement("div",{className:n?"col-span-2":"col-span-4"},r.a.createElement("span",{className:"title"},l.title),r.a.createElement("div",{className:"content pt-4 whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:l.body}}))))};var A=function(e){var t=e.pageService,a=Object(n.useState)(null),l=Object(i.a)(a,2),c=l[0],o=l[1],s=v(),m=s.state,u=s.dispatch,d=Object(P.i)(),g=d.slug,f=d.category,E=d.parent_slug,b=null;return Object(n.useEffect)((function(){(null===c||c&&c.slug!==E)&&t.getPage(E,f).then((function(e){o(e),u({type:p,value:e.title})}))}),[t,c,E,f,u]),null!==c&&g&&(b=c.children.find((function(e){return e.slug===g}))),null===c?r.a.createElement(C,null):r.a.createElement(z,{page:b||c,parent_page:c,parent_slug:E,user:m.user})},U=function(e){return h.a.post("/api/v1/articles",e).then((function(e){return e.data}))},I=function(e){return h.a.put("/api/v1/articles/".concat(e.id),e).then((function(e){return e.data}))},D=function(e){return h.a.get("/api/v1/articles/".concat(e.slug)).then((function(e){return e.data}))},q=function(e){return h.a.get("/api/v1/articles",{params:e}).then((function(e){return e.data}))};function F(e){var t=new FormData;return t.append("file",e),h.a.post("/api/v1/uploads/pages/media",t).then((function(e){return Object(m.a)({data:{link:e.data?e.data.file:null}},e)}))}var L={getArticles:function(e){return q({p:e&&e.p?e.p:1,s:9})},getArticle:function(e){return D({slug:e})},create:function(e){var t=e.body,a=e.title,n=e.short,r=e.published,l=e.image;return l&&l.length?F(l[0]).then((function(e){return console.log(l),U({body:t,title:a,short:n,published:r,image:e.data.link})})):U({body:t,title:a,short:n,published:r})},edit:function(e){var t=e.id,a=e.body,n=e.title,r=e.short,l=e.published,c=e.image;return c&&c.length?F(c[0]).then((function(e){return console.log(e),I({id:t,body:a,title:n,short:r,published:l,image:e.data.file})})):I({id:t,body:a,title:n,short:r,published:l})}},V=a(22);var R=function(e){var t=e.error;return t?r.a.createElement("div",{className:"py-3"},r.a.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert"},r.a.createElement("strong",{className:"font-bold pl-2"},"Error: "),r.a.createElement("span",{className:"block sm:inline"},t))):null};var B=function(e){var t=e.userService,a=Object(V.a)(),l=a.handleSubmit,c=a.register,o=a.errors,s=Object(n.useState)(null),m=Object(i.a)(s,2),u=m[0],p=m[1],d=v().dispatch,g=Object(P.g)();return r.a.createElement("form",{onSubmit:l((function(e){t.login(e).then((function(e){O(e.token),t.userInfo().then((function(t){d({type:"SET_USER_INFO",value:t}),d({type:"SET_TOKEN",value:e.token}),g.push("/")}))}),(function(e){403===e.status?p(M.t("errors.login")):p(M.t("errors.unknown"))}))})),className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},r.a.createElement(R,{error:u}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,M.t("form.login.Email")),r.a.createElement("input",{type:"email",name:"email",placeholder:M.t("form.login.Email"),ref:c({required:M.t("form.validationMessages.required",{field:M.t("form.login.Email")}),pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:M.t("form.validationMessages.invalid_format",{field:M.t("form.login.Email")})}})}),r.a.createElement("span",{className:"input-error"},o.email&&o.email.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,M.t("form.login.Password")),r.a.createElement("input",{name:"password",type:"password",placeholder:M.t("form.login.Password"),ref:c({required:M.t("form.validationMessages.required",{field:M.t("form.login.Password")}),message:M.t("form.validationMessages.required",{field:M.t("form.login.Password")})})}),r.a.createElement("span",{className:"input-error"},o.password&&o.password.message)),r.a.createElement("p",{className:"mb-2"},r.a.createElement(k.b,{to:"/forgot-password",className:"text-blue-500 hover:text-blue-800 "},M.t("pages.forgotPassword.menuName"))),r.a.createElement("button",{type:"submit",className:"btn"},M.t("form.login.Submit")))},H=function(e){var t=e.userService,a=Object(P.g)(),l=v(),c=l.state,o=l.dispatch;return Object(n.useEffect)((function(){o({type:p,value:M.t("pages.login.menuName")}),null!=c.token&&a.push("/")}),[o,c.token,a]),r.a.createElement("div",{className:"container mx-auto py-4"},r.a.createElement("div",{className:"w-full max-w-md mx-auto"},r.a.createElement(B,{userService:t})))},K=function(e){return h.a.post("/api/v1/auth/login",e).then((function(e){return e.data}))},Z=function(){return h.a.get("/api/v1/auth/user").then((function(e){return e.data}))},W=function(e){return h.a.post("/api/v1/auth/forgot-password",{email:e})},G=function(e,t){return h.a.post("/api/v1/auth/reset-password/".concat(t),e)},J={login:function(e){var t=e.email,a=e.password;return K({email:t,password:a})},userInfo:function(){return Z()},forgotPassword:function(e){return W(e)},resetPassword:function(e){var t=e.password,a=e.confirm,n=e.token;return G({password:t,password_confirmation:a},n)}},$=(a(134),a(32)),X=a(190),Y=a.n(X),Q=a(199);function ee(e){var t=Y()(e),a=t.contentBlocks,n=t.entityMap,r=$.ContentState.createFromBlockArray(a,n);return $.EditorState.createWithContent(r)}function te(e){return Object(Q.a)(e.getCurrentContent())}var ae=r.a.lazy((function(){return a.e(0).then(a.t.bind(null,434,7)).then((function(e){return{default:e.Editor}}))}));var ne=function(e){var t=e.page,a=e.onSubmit,l=Object(V.a)(),c=l.handleSubmit,o=l.register,s=l.errors,u=$.EditorState.createEmpty();t&&t.body&&(u=ee(t.body));var p=Object(n.useState)(u),d=Object(i.a)(p,2),g=d[0],f=d[1];return r.a.createElement("div",{className:"page-form pt-4"},r.a.createElement("form",{onSubmit:c((function(e){return a(Object(m.a)(Object(m.a)({},e),{},{body:te(g)}))})),className:"rounded px-8 pt-6 pb-8 mb-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,M.t("form.pages.Title")),r.a.createElement("input",{type:"text",name:"title",defaultValue:t?t.title:"",placeholder:M.t("form.pages.Title"),ref:o({required:M.t("form.validationMessages.required",{field:M.t("form.pages.Title")})})}),r.a.createElement("span",{className:"input-error"},s.title&&s.title.message)),r.a.createElement(n.Suspense,{fallback:r.a.createElement(C,null)},r.a.createElement(ae,{editorState:g,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",uploadEnabled:!0,uploadCallback:F,onEditorStateChange:f})),r.a.createElement("button",{type:"submit",className:"btn"},M.t("form.pages.Submit"))))};var re=function(e){var t=e.pageService,a=Object(n.useState)(null),l=Object(i.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(!0),u=Object(i.a)(s,2),d=u[0],g=u[1],f=v().dispatch,E=Object(P.g)(),b=Object(P.i)(),h=b.slug,y=b.category;return Object(n.useEffect)((function(){g(!0),t.getPage(h,y).then((function(e){o(e),g(!1),f({type:p,value:"".concat(M.t("pages.page.edit"),": ").concat(e.title)})}))}),[t,f,h,y]),r.a.createElement("div",{className:"container mx-auto py-4"},r.a.createElement("span",{className:"form-title"},M.t("page.link.edit")),d?r.a.createElement(C,null):r.a.createElement(ne,{page:c,onSubmit:function(e){x(y,Object(m.a)(Object(m.a)({},c),e)).then((function(){E.push("/pages/".concat(y,"/").concat(h))}))}}))},le=a(86),ce=a.n(le),oe=r.a.lazy((function(){return a.e(0).then(a.t.bind(null,434,7)).then((function(e){return{default:e.Editor}}))}));var se=function(e){var t=e.article,a=void 0===t?{}:t,l=e.onSubmit,c=Object(V.a)(),o=c.handleSubmit,s=c.register,u=c.errors,p=Object(n.useState)([]),d=Object(i.a)(p,2),g=d[0],f=d[1],E=$.EditorState.createEmpty(),v=$.EditorState.createEmpty();a&&a.body&&(E=ee(a.body)),a&&a.short&&(v=ee(a.short));var b=Object(n.useState)(E),h=Object(i.a)(b,2),y=h[0],N=h[1],x=Object(n.useState)(v),S=Object(i.a)(x,2),w=S[0],j=S[1];return r.a.createElement("div",{className:"article-form container mx-auto py-4"},r.a.createElement("form",{onSubmit:o((function(e){return l(Object(m.a)(Object(m.a)({},e),{},{published:!0,image:g,body:te(y),short:te(w)}))})),className:"rounded px-8 pt-6 pb-8 mb-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,M.t("form.article.Title")),r.a.createElement("input",{type:"text",name:"title",defaultValue:a.title,placeholder:M.t("form.article.Title"),ref:s({required:M.t("form.validationMessages.required",{field:M.t("form.article.Title")})})}),r.a.createElement("span",{className:"input-error"},u.title&&u.title.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,M.t("form.article.Image")),r.a.createElement(ce.a,{withIcon:!0,name:"images",label:M.t("form.gallery.infoText"),buttonText:M.t("form.gallery.UploadForm"),fileSizeError:M.t("form.errorMessages.fileSize"),fileTypeError:M.t("form.errorMessage.fileExtension"),onChange:f,onDelete:f,singleImage:!0,withPreview:!0,imgExtension:[".jpg",".gif",".png",".jpeg"],fileContainerStyle:{boxShadow:"none"}})),r.a.createElement(n.Suspense,{fallback:r.a.createElement(C,null)},r.a.createElement("label",null,M.t("form.article.Content")),r.a.createElement(oe,{editorState:y,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",uploadEnabled:!0,uploadCallback:F,onEditorStateChange:N})),r.a.createElement(n.Suspense,{fallback:r.a.createElement(C,null)},r.a.createElement("label",null,M.t("form.article.Short")),r.a.createElement(oe,{editorState:w,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",uploadEnabled:!0,uploadCallback:F,onEditorStateChange:j})),r.a.createElement("div",{className:"pt-2"},r.a.createElement("button",{type:"submit",className:"btn"},M.t("form.article.Submit")))))};var ie=function(e){var t=e.articleService,a=v().dispatch,l=Object(P.g)();return Object(n.useEffect)((function(){a({type:p,value:M.t("pages.articles.create")})}),[a]),r.a.createElement(se,{onSubmit:function(e){t.create(Object(m.a)({},e)).then((function(){l.push("/articles")}))}})};var me=function(e){var t=e.articleService,a=v().dispatch,l=Object(P.g)(),c=Object(P.i)().slug,o=Object(n.useState)(null),s=Object(i.a)(o,2),u=s[0],d=s[1];return Object(n.useEffect)((function(){t.getArticle(c).then((function(e){d(e),a({type:p,value:"".concat(M.t("pages.articles.edit"),": ").concat(e.title)})}))}),[a,c,t]),null===u?r.a.createElement(C,null):r.a.createElement(se,{onSubmit:function(e){t.edit(Object(m.a)(Object(m.a)({},e),{},{id:u.id})).then((function(){l.push("/articles")}))},article:u})};var ue=function(e){var t,a=e.article,n=e.user;return n&&(n.can_edit||n.is_admin)&&(t=r.a.createElement("div",{className:"text-right"},r.a.createElement(k.b,{to:"/articles/".concat(a.slug,"/edit"),className:"btn"},M.t("articles.link.edit")))),r.a.createElement("div",{id:"article",className:"container mx-auto py-4"},r.a.createElement("div",{className:"text-right"},t),r.a.createElement("span",{className:"title text-3xl"},a.title),a.image?r.a.createElement("img",{src:a.image,alt:a.title,className:"w-full pt-8"}):"",r.a.createElement("div",{className:"content pt-4",dangerouslySetInnerHTML:{__html:a.body}}))};var pe=function(e){var t=e.articleService,a=Object(n.useState)(null),l=Object(i.a)(a,2),c=l[0],o=l[1],s=v(),m=s.state,u=s.dispatch,d=Object(P.i)().slug;return Object(n.useEffect)((function(){t.getArticle(d).then((function(e){o(e),u({type:p,value:e.title})}))}),[t,u,d]),null===c?r.a.createElement(C,null):r.a.createElement(ue,{article:c,user:m.user})};var de=function(){return r.a.createElement("div",{className:"container py-4 mx-auto text-center"},M.t("errors.notFound"))},ge=a(200);var fe=function(e){var t=e.children,a=e.neededPerm,n=Object(ge.a)(e,["children","neededPerm"]),l=v().state;return r.a.createElement(P.b,Object.assign({},n,{render:function(e){var n,c,o=e.location;return n=a,c=l.user,("admin"===n?c&&c.is_admin:"editor"===n?c&&c.can_edit:"logged"===n?null!==c:"notLogged"===n&&null===c)?t:r.a.createElement(P.a,{to:{pathname:"/not-found",state:{from:o}}})}}))};var Ee=function(e){var t=e.userService,a=Object(V.a)(),n=a.handleSubmit,l=a.register,c=a.errors,o=Object(P.g)();return r.a.createElement("form",{onSubmit:n((function(e){var a=e.email;t.forgotPassword(a).then((function(){o.push("/forgot-password/success")}))})),className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,M.t("form.forgotPassword.Email")),r.a.createElement("input",{type:"email",name:"email",placeholder:M.t("form.login.Email"),ref:l({required:M.t("form.validationMessages.required",{field:M.t("form.forgotPassword.Email")}),pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:M.t("form.validationMessages.invalid_format",{field:M.t("form.forgotPassword.Email")})}})}),r.a.createElement("span",{className:"input-error"},c.email&&c.email.message)),r.a.createElement("button",{type:"submit",className:"btn"},M.t("form.forgotPassword.Submit")))},ve=function(e){var t=e.userService,a=v().dispatch;return Object(n.useEffect)((function(){a({type:p,value:M.t("pages.forgotPassword.menuName")})}),[a]),r.a.createElement("div",{className:"container mx-auto py-4"},r.a.createElement("div",{className:"w-full max-w-md mx-auto"},r.a.createElement(Ee,{userService:t})))},be=function(){var e=v().dispatch;return Object(n.useEffect)((function(){e({type:p,value:M.t("pages.forgotPassword.menuName")})}),[e]),r.a.createElement("div",null,r.a.createElement("div",{className:"w-full max-w-md mx-auto"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",className:"fill-current text-orange-500 mb-4 mx-auto w-6/12",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 512 512"},r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M437.019,74.98C388.667,26.629,324.38,0,256,0C187.619,0,123.331,26.629,74.98,74.98C26.628,123.332,0,187.62,0,256    s26.628,132.667,74.98,181.019C123.332,485.371,187.619,512,256,512c68.38,0,132.667-26.629,181.019-74.981    C485.371,388.667,512,324.38,512,256S485.371,123.333,437.019,74.98z M256,482C131.383,482,30,380.617,30,256S131.383,30,256,30    s226,101.383,226,226S380.617,482,256,482z"}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M378.305,173.859c-5.857-5.856-15.355-5.856-21.212,0.001L224.634,306.319l-69.727-69.727    c-5.857-5.857-15.355-5.857-21.213,0c-5.858,5.857-5.858,15.355,0,21.213l80.333,80.333c2.929,2.929,6.768,4.393,10.606,4.393    c3.838,0,7.678-1.465,10.606-4.393l143.066-143.066C384.163,189.215,384.163,179.717,378.305,173.859z"}))),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null),r.a.createElement("g",null)),M.t("forgotPassword.success")))};var he=function(e){var t=e.userService,a=Object(V.a)(),n=a.handleSubmit,l=a.register,c=a.errors,o=a.getValues,s=Object(P.g)(),i=new URLSearchParams(s.location.search).get("token");return r.a.createElement("form",{onSubmit:n((function(e){var a=e.password,n=e.confirm;t.resetPassword({password:a,confirm:n,token:i}).then((function(){s.push("/login")}))})),className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,M.t("form.resetPassword.Password")),r.a.createElement("input",{type:"password",name:"password",placeholder:M.t("form.resetPassword.Password"),ref:l({required:M.t("form.validationMessages.required",{field:M.t("form.resetPassword.Password")})})}),r.a.createElement("span",{className:"input-error"},c.password&&c.password.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,M.t("form.resetPassword.PasswordConfirm")),r.a.createElement("input",{type:"password",name:"confirm",placeholder:M.t("form.resetPassword.PasswordConfirm"),ref:l({required:M.t("form.validationMessages.required",{field:M.t("form.resetPassword.PasswordConfirm")}),validate:{confirm:function(e){return e===o("password")||M.t("form.validationMessages.confirm")}}})}),r.a.createElement("span",{className:"input-error"},c.confirm&&c.confirm.message)),r.a.createElement("button",{type:"submit",className:"btn"},M.t("form.resetPassword.Submit")))};var ye=function(e){var t=e.userService,a=v().dispatch;return Object(n.useEffect)((function(){a({type:p,value:M.t("pages.resetPassword.title")})}),[a]),r.a.createElement("div",{className:"container mx-auto py-4"},r.a.createElement(he,{userService:t}))};var Ne=function(e){var t=e.onSubmit,a=e.loading,l=Object(n.useState)([]),c=Object(i.a)(l,2),o=c[0],s=c[1];return r.a.createElement("form",{className:"pt-4",onSubmit:function(e){e.preventDefault(),t(o)}},a?r.a.createElement("div",{className:"text-center text-xl p-8"},"Nahravanie..."):r.a.createElement(ce.a,{withIcon:!0,name:"images",label:M.t("form.gallery.infoText"),buttonText:M.t("form.gallery.UploadForm"),fileSizeError:M.t("form.errorMessages.fileSize"),fileTypeError:M.t("form.errorMessage.fileExtension"),onChange:s,onDelete:s,withPreview:!0,imgExtension:[".jpg",".gif",".png",".jpeg"],fileContainerStyle:{boxShadow:"none"}}),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"btn",disabled:a},M.t("form.gallery.Submit"))))},xe=function(e){return h.a.get("/api/v1/uploads/".concat(e)).then((function(e){return e.data}))},Se=function(e){var t=e.type,a=e.category,n=e.s,r=e.p;return h.a.get("/api/v1/uploads/".concat(t,"/").concat(a),{params:{s:n,p:r}}).then((function(e){return e.data}))},we=function(e){var t=e.name,a=e.subPath,n=e.description,r=e.type;return h.a.post("/api/v1/uploads/".concat(r),{name:t,description:n,subPath:a})},je=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pages";return h.a.post("/api/v1/uploads/".concat(a,"/").concat(t),e,{headers:{"content-type":"multipart/form-data"}}).then((function(e){return Object(m.a)({data:{link:e.data?e.data.file:null}},e.data)}))},Oe=function(e){var t=e.category,a=e.type,n=e.id;return h.a.get("/api/v1/uploads/".concat(a,"/").concat(t,"/").concat(n)).then((function(e){return e.data}))};var ke=function(e){var t=e.uploadService,a=v().dispatch,l=Object(n.useState)(!1),c=Object(i.a)(l,2),o=c[0],s=c[1],m=Object(P.g)(),u=Object(P.i)().category;return Object(n.useEffect)((function(){a({type:p,value:M.t("pages.gallery.upload")})}),[a]),r.a.createElement("div",{className:"container mx-auto py-4"},r.a.createElement("span",{className:"form-title"},M.t("gallery.link.upload")),r.a.createElement(Ne,{onSubmit:function(e){s(!0),t.upload(e,u).then((function(){s(!1),m.push("/gallery")}),(function(){s(!1)}))},type:"gallery",loading:o}))},Pe={getCategoryUploads:function(e){return Se({type:"gallery",p:1,s:9999,category:e})},getUploadsCategories:function(){return xe("gallery")},create:function(e){var t=e.name,a=e.description;return we({name:t,description:a,type:"gallery",subPath:t.toLowerCase().replace(" ","-")})}};var Ce=function(e){var t=e.onSubmit,a=Object(V.a)(),n=a.handleSubmit,l=a.register,c=a.errors;return r.a.createElement("form",{onSubmit:n(t),className:"pt-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,M.t("form.gallery.Name")),r.a.createElement("input",{type:"text",name:"name",placeholder:M.t("form.gallery.Name"),ref:l({required:M.t("form.validationMessages.required",{field:M.t("form.gallery.Name")})})}),r.a.createElement("span",{className:"input-error"},c.email&&c.email.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,M.t("form.gallery.Desc")),r.a.createElement("input",{type:"text",name:"description",placeholder:M.t("form.gallery.Desc"),ref:l({required:M.t("form.validationMessages.required",{field:M.t("form.gallery.Desc")})})}),r.a.createElement("span",{className:"input-error"},c.email&&c.email.message)),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"btn"},M.t("form.gallery.Create"))))};var _e=function(e){var t=e.galleryService,a=v().dispatch,l=Object(P.g)();return Object(n.useEffect)((function(){a({type:p,value:M.t("pages.gallery.create")})}),[a]),r.a.createElement("div",{className:"container mx-auto py-4"},r.a.createElement("span",{className:"form-title"},M.t("gallery.link.create")),r.a.createElement(Ce,{onSubmit:function(e){t.create(Object(m.a)({},e)).then((function(){l.push("/gallery")}))}}))};var Te=function(e){var t=e.category;return r.a.createElement("div",null,r.a.createElement(k.b,{to:"/gallery/".concat(t.slug)},r.a.createElement("img",{className:"py-3 px-3",src:t.thumbnail,alt:M.t("gallery.uploadImagePlaceholder")})),r.a.createElement("h4",null,t.name),r.a.createElement("p",null,t.description))};var Me=function(e){var t=e.galleryService,a=Object(n.useState)(null),l=Object(i.a)(a,2),c=l[0],o=l[1],s=v(),m=s.state,u=s.dispatch,d=[];return Object(n.useEffect)((function(){u({type:p,value:M.t("pages.gallery.menuName")}),t.getUploadsCategories().then((function(e){o(e)}))}),[t,u]),null!==c&&(d=c.map((function(e){return r.a.createElement(Te,{category:e,key:e.id})}))),null===c?r.a.createElement(C,null):r.a.createElement("div",{className:"container mx-auto py-4"},m.user&&(m.user.can_edit||m.user.is_admin)?r.a.createElement("div",{className:"text-right pt-4"},r.a.createElement(k.b,{className:"btn",to:"/gallery/create"},M.t("gallery.link.create"))):null,r.a.createElement("div",{className:"grid grid-flow-col grid-cols-3 "},d))},ze=a(191),Ae=a.n(ze);var Ue=function(e){var t=e.galleryService,a=Object(n.useState)(null),l=Object(i.a)(a,2),c=l[0],o=l[1],s=v(),u=s.state,d=s.dispatch,g=Object(P.i)().category,f=r.a.createRef();return Object(n.useEffect)((function(){d({type:p,value:M.t("pages.gallery.menuName")}),t.getCategoryUploads(g).then((function(e){o(e)}))}),[t,d,g]),null===c?r.a.createElement(C,null):r.a.createElement("div",{className:"py-4 container mx-auto"},u.user&&(u.user.can_edit||u.user.is_admin)?r.a.createElement("div",{className:"text-right block py-4"},r.a.createElement(k.b,{className:"btn",to:"/gallery/".concat(g,"/upload")},M.t("gallery.link.upload"))):null,r.a.createElement(Ae.a,{items:c.upload.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{original:e.file})})),infinite:!1,lazyLoad:!0,showFullscreenButton:!1,showPlayButton:!1,ref:f}))};var Ie=function(e){var t=e.pageService,a=v().dispatch,l=Object(P.g)(),c=Object(P.i)(),o=c.id,s=c.category,i=new URLSearchParams(Object(P.h)().search).get("slug");return Object(n.useEffect)((function(){a({type:p,value:M.t("pages.page.create")})}),[t,a,o,s]),r.a.createElement("div",{className:"container mx-auto py-4"},r.a.createElement("span",{className:"form-title"},M.t("page.link.create")),r.a.createElement(ne,{onSubmit:function(e){S(s,Object(m.a)(Object(m.a)({},e),{},{parent:{id:parseInt(o)}})).then((function(e){i?l.push("/pages/".concat(s,"/").concat(i)):l.push("/")}))}}))};var De=function(){var e=v().dispatch;return Object(n.useEffect)((function(){e({type:p,value:M.t("pages.contact.menuName")})})),r.a.createElement("div",{className:"container mx-auto pt-6"},r.a.createElement("div",{className:"grid md:grid-cols-2"},r.a.createElement("div",null,r.a.createElement("h2",{className:"text-2xl font-bold"},"Kontakt"),r.a.createElement("div",{className:"address py-2"},r.a.createElement("h3",{className:"text-xl"},"Adresa"),r.a.createElement("p",null,"R\xedmskokatol\xedcka farnos\u0165"),r.a.createElement("p",null,"Kvetn\xe1 25"),r.a.createElement("p",null," 040 15 Ko\u0161ice - \u0160aca")),r.a.createElement("div",{className:"contact-info"},r.a.createElement("h3",{className:"text-xl"},"Kontaky"),r.a.createElement("p",null,r.a.createElement("a",{href:"mailto:fara@farasaca.sk",className:"text-orange-500"},"fara@farasaca.sk")),r.a.createElement("p",null,r.a.createElement("a",{href:"tel:+421905366257",className:"text-orange-500"},"0905 366 257")),r.a.createElement("p",null,r.a.createElement("a",{href:"tel:+421556841164",className:"text-orange-500"},"055/68 41 164")))),r.a.createElement("div",null,r.a.createElement("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d21093.53752196114!2d21.166266875962947!3d48.63487202302324!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x473f1f3bf0bb1e35%3A0xae07defb6074c81c!2zUsOtbXNrb2thdG9sw61ja3kgRmFyc2vDvSDDmnJhZA!5e0!3m2!1sen!2ssk!4v1605284194949!5m2!1sen!2ssk",width:"100%",height:"100%",frameBorder:"0",allowFullScreen:"","aria-hidden":"false",tabIndex:"0"}))))},qe=(a(334),a(192));var Fe=function(e){var t=e.user,a=Object(n.useState)(!1),l=Object(i.a)(a,2),c=l[0],o=l[1],s="absolute dropdown mt-2 py-2 w-48 bg-white rounded-lg shadow-xl text-right";return c||(s+=" hidden"),t&&(t.can_edit||t.is_admin)?r.a.createElement("button",{className:"rounded-full h-16 w-16 flex items-center justify-center shadow-md fixed bg-white plus-icon cursor-pointer",onClick:function(){return o(!c)}},r.a.createElement("span",{className:"text-2xl"},"+"),r.a.createElement("div",{className:s},r.a.createElement(k.b,{to:"/announcement/create",className:"block px-4 py-2 text-gray-800 hover:bg-blue-500 hover:text-white"},M.t("announcement.link.create")),r.a.createElement(k.b,{to:"/oznamy/upload",className:"block px-4 py-2 text-gray-800 hover:bg-blue-500 hover:text-white"},M.t("notice.link.upload")),r.a.createElement(k.b,{to:"/most/upload",className:"block px-4 py-2 text-gray-800 hover:bg-blue-500 hover:text-white"},M.t("most.link.upload")))):r.a.createElement("div",null)};var Le=function(){var e=v(),t=e.dispatch,a=e.state;return Object(n.useEffect)((function(){t({type:p,value:M.t("pages.home.menuName")})})),r.a.createElement("div",{className:"home"},r.a.createElement(qe.Carousel,{autoPlay:!0,infiniteLoop:!0,showArrows:!1,showThumbs:!1,showStatus:!1,interval:5e3,className:"carousel"},r.a.createElement("div",null,r.a.createElement("img",{src:"/photos/1-min.jpg",alt:"img-1"})),r.a.createElement("div",null,r.a.createElement("img",{src:"/photos/2-min.jpg",alt:"img-2"})),r.a.createElement("div",null,r.a.createElement("img",{src:"/photos/3-min.jpg",alt:"img-3"})),r.a.createElement("div",null,r.a.createElement("img",{src:"/photos/4-min.jpg",alt:"img-4"})),r.a.createElement("div",null,r.a.createElement("img",{src:"/photos/5-min.jpg",alt:"img-5"}))),r.a.createElement("div",{className:"grid grid-cols-2"},r.a.createElement("div",{className:"oznamy text-center"},r.a.createElement("a",{className:"text-4xl font-bold",href:"/oznamy"},"Aktualne oznamy")),r.a.createElement("div",{className:"most text-center"},r.a.createElement("a",{className:"text-4xl font-bold",href:"/most"},"Aktualne \u010dislo mostu"))),r.a.createElement("div",{className:"py-4"},r.a.createElement("div",{className:"container mx-auto"},r.a.createElement("h4",null,"Online prenos"),r.a.createElement("hr",{className:"py-4"}),r.a.createElement("iframe",{width:"560",height:"315",src:"https://www.youtube-nocookie.com/embed/Tl8DmgdXx-U",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",title:"Online Prenos",allowFullScreen:!0,className:"mx-auto"}))),r.a.createElement(Fe,{user:a.user}))},Ve=a(47);a(183);var Re=function(){Ve.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Ve.c.version,"/pdf.worker.js");var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],l=t[1],c=v().dispatch;return Object(n.useEffect)((function(){c({type:p,value:M.t("pages.notice.menuName")})})),r.a.createElement("div",{className:"p-4 container mx-auto"},r.a.createElement("span",{className:"form-title inline-block"},M.t("pages.notice.actual")),r.a.createElement(Ve.a,{file:"".concat(j,"/api/v1/uploads/menu/weekly/latest"),onLoadSuccess:function(e){var t=e.numPages;l(t)}},Array.from(new Array(a),(function(e,t){return r.a.createElement(Ve.b,{key:"page_".concat(t+1),pageNumber:t+1,scale:2})}))))};var Be=function(e){var t=e.onSubmit,a=Object(V.a)(),n=a.handleSubmit,l=a.register,c=a.errors;return r.a.createElement("form",{onSubmit:n(t),className:"pt-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,M.t("form.notice.Description")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",name:"description",ref:l({required:M.t("form.validationMessages.required",{field:M.t("form.notice.Description")})})})),r.a.createElement("span",{className:"input-error"},c.description&&c.description.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,M.t("form.notice.File")),r.a.createElement("div",null,r.a.createElement("input",{type:"file",name:"file",accept:"application/pdf,.pdf",ref:l({required:M.t("form.validationMessages.required",{field:M.t("form.notice.File")})})})),r.a.createElement("span",{className:"input-error"},c.file&&c.file.message)),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"btn"},M.t("form.notice.Submit"))))};var He=function(e){var t=e.uploadService,a=Object(P.g)(),l=v().dispatch;return Object(n.useEffect)((function(){l({type:p,value:M.t("pages.notice.upload")})})),r.a.createElement("div",{className:"container mx-auto py-4"},r.a.createElement("span",{className:"form-title"},M.t("notice.link.upload")),r.a.createElement(Be,{onSubmit:function(e){var n=e.file;t.upload([n],"weekly").then((function(){a.push("/oznamy")}))}}))},Ke=function(e){return h.a.post("/api/v1/announcement",e).then((function(e){return e.data}))},Ze=function(){return h.a.get("/api/v1/announcement").then((function(e){return e.data}))},We={active:function(){return Ze()},create:function(e){var t=e.message,a=e.expireAt;return Ke({message:t,expire_at:a})}};var Ge=function(e){var t=e.announcement,a=v().dispatch;return Object(n.useEffect)((function(){null===t&&We.active().then((function(e){return a({type:"SET_ANNOUNCEMENT",value:e})}))}),[t,a]),t?r.a.createElement("div",{className:"bg-indigo-500"},r.a.createElement("div",{className:"max-w-screen-xl mx-auto py-4 px-3 sm:px-6 lg:px-8"},r.a.createElement("div",{className:"flex items-center justify-between flex-wrap"},r.a.createElement("div",{className:"w-0 flex-1 flex items-center"},r.a.createElement("span",{className:"flex p-2 rounded-lg bg-indigo-800"},r.a.createElement("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"}))),r.a.createElement("p",{className:"ml-3 font-medium text-white truncate"},t.message))))):null},Je=a(194),$e=a.n(Je);a(365);var Xe=function(e){var t=e.announcementService,a=new Date,l=a.setDate(a.getDate()+1),c=Object(V.a)(),o=c.handleSubmit,s=c.register,m=c.errors,u=Object(n.useState)(l),p=Object(i.a)(u,2),d=p[0],g=p[1],f=Object(n.useState)(null),E=Object(i.a)(f,2),b=E[0],h=E[1],y=v().dispatch,N=Object(P.g)();return r.a.createElement("div",{className:"container mx-auto py-4"},r.a.createElement("span",{className:"form-title"},M.t("announcement.link.create")),r.a.createElement("form",{onSubmit:o((function(e){var a=e.message;t.create({message:a,expireAt:d}).then((function(){y({type:"SET_ANNOUNCEMENT",value:null}),N.push("/")}),(function(){h(M.t("errors.unknown"))}))})),className:"pt-4"},r.a.createElement(R,{error:b}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,M.t("form.announcement.Message")),r.a.createElement("input",{type:"text",name:"message",ref:s({required:M.t("form.validationMessages.required",{field:M.t("form.announcement.Message")})})}),r.a.createElement("span",{className:"input-error"},m.email&&m.email.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,M.t("form.announcement.ExpireAt")),r.a.createElement($e.a,{onChange:g,selected:d,minDate:l}),r.a.createElement("span",{className:"input-error"},m.email&&m.email.message)),r.a.createElement("button",{type:"submit",className:"btn"},M.t("form.announcement.Submit"))))},Ye=a(17),Qe=a.n(Ye),et=a(66),tt=a(38),at={upload:function(e,t){return Object(tt.a)(Qe.a.mark((function a(){var n,r,l,c;return Qe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=Object(et.a)(e),a.prev=1,n.s();case 3:if((r=n.n()).done){a.next=11;break}return l=r.value,(c=new FormData).append("file",l),a.next=9,je(c,t,"gallery");case 9:a.next=3;break;case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(1),n.e(a.t0);case 16:return a.prev=16,n.f(),a.finish(16);case 19:case"end":return a.stop()}}),a,null,[[1,13,16,19]])})))()},uploadOne:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=new FormData;return n.append("file",e),n.append("description",a),je(n,t,"gallery")},getUploads:function(e){var t=e.type,a=e.page,n=e.category;return Se({page:a,type:t,category:n})},getUpload:function(e){var t=e.type,a=e.category,n=e.id;return Oe({type:t,category:a,id:n})}};var nt=function(e){var t=e.file;Ve.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Ve.c.version,"/pdf.worker.js");var a=Object(n.useState)(null),l=Object(i.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(1),m=Object(i.a)(s,2),u=m[0],p=m[1];return console.log(t),r.a.createElement("div",{className:"container py-4"},r.a.createElement(Ve.a,{file:t,onLoadSuccess:function(e){var t=e.numPages;o(t)}},r.a.createElement(Ve.b,{pageNumber:u,scale:2})),c&&r.a.createElement("div",{className:"text-center"},u>1&&r.a.createElement("button",{className:"pr-4 font-bold text-4xl focus:outline-none text-blue-500 hover:text-blue-600",onClick:function(){return p(u-1)}}," "," < "," "),r.a.createElement("span",null,u,"/",c),u<c&&r.a.createElement("button",{className:"pl-4 font-bold text-4xl focus:outline-none text-blue-500 hover:text-blue-600",onClick:function(){return p(u+1)}}," "," > "," ")))};var rt=function(){var e=v().dispatch;return Object(n.useEffect)((function(){e({type:p,value:M.t("pages.most.menuName")})})),r.a.createElement("div",{className:"container mx-auto py-4"},r.a.createElement("span",{className:"form-title"},M.t("most.actual")),r.a.createElement(nt,{file:"".concat(j,"/api/v1/uploads/menu/").concat("most","/latest")}),r.a.createElement(k.b,{to:"/most/archive"},r.a.createElement("span",null,M.t("most.link.archive"))))};var lt=function(e){var t=e.page,a=e.total_pages,n=1===t,l=t===a,c=Object(P.g)(),o=function(e){c.push("".concat(c.location.pathname,"?page=").concat(t+e))};return r.a.createElement("div",{className:"pagination"},n&&l?null:r.a.createElement("div",{className:"pt-6 pb-4"},r.a.createElement("hr",{className:"flex border-gray-600 "})),r.a.createElement("nav",{className:"grid grid-cols-2 "},n?r.a.createElement("div",null):r.a.createElement("button",{onClick:function(){return o(-1)},className:"prev font-semibold text-gray-500 hover:text-gray-600 transition ease-in-out duration-150","aria-label":M.t("pagination.Prev")},"\u2190 ",M.t("pagination.Prev")),l?r.a.createElement("div",null):r.a.createElement("button",{onClick:function(){return o(1)},className:"next font-semibold  text-gray-500 hover:text-gray-600 transition ease-in-out duration-150","aria-label":M.t("pagination.Next")},M.t("pagination.Next")," \u2192")))};var ct=function(e){var t=e.uploadService,a=Object(n.useState)(null),l=Object(i.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(null),m=Object(i.a)(s,2),u=m[0],d=m[1],g=new URLSearchParams(Object(P.h)().search).get("page"),f=v().dispatch;return Object(n.useEffect)((function(){f({type:p,value:M.t("pages.most.archive")}),t.getUploads({type:"menu",category:"most",page:g}).then((function(e){o(e)}),(function(e){d(e)}))}),[f,g,t]),c&&r.a.createElement("div",{className:"container mx-auto py-4"},r.a.createElement(R,{error:u}),r.a.createElement("span",{className:"form-title"},M.t("most.archive")),r.a.createElement("div",{className:"pt-4"},r.a.createElement("ul",null,c.upload&&c.upload.map((function(e){return r.a.createElement("li",{key:"most-"+e.id},r.a.createElement(k.b,{to:"/most/".concat(e.id)},e.description))})))),r.a.createElement(lt,{page:c.page,total_pages:c.total_pages}))};var ot=function(e){var t=e.uploadService,a=Object(n.useState)(null),l=Object(i.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(null),m=Object(i.a)(s,2),u=m[0],d=m[1],g=Object(P.i)().id,f=v().dispatch;return Object(n.useEffect)((function(){f({type:p,value:M.t("pages.most.detail")}),t.getUpload({type:"menu",category:"most",id:g}).then((function(e){o(e)}),(function(e){d(e)}))}),[f,g,t]),c&&r.a.createElement("div",{className:"container py-4 mx-auto"},r.a.createElement(R,{error:u}),r.a.createElement(k.b,{to:"/most/archive",className:"block"},M.t("most.link.back")),r.a.createElement("span",{className:"form-title"},c.description),r.a.createElement("div",{className:"py-4"},r.a.createElement(nt,{file:"".concat(j,"/api/v1/uploads/menu/").concat("most","/").concat(c.id,"/download")})))};var st=function(e){var t=e.uploadService,a=Object(P.g)(),l=v().dispatch;return Object(n.useEffect)((function(){l({type:p,value:M.t("pages.most.upload")})})),r.a.createElement("div",{className:"container mx-auto py-4"},r.a.createElement("span",{className:"form-title"},M.t("most.link.upload")),r.a.createElement(Be,{onSubmit:function(e){var n=e.file,r=e.description;n&&n.length>0&&t.uploadOne(n[0],"most",r).then((function(){a.push("/most")}))}}))};function it(e,t){return 0===t.length?e.getPagesByCategory("menu"):Promise.resolve(t)}var mt=function(e){var t=e.pageService,a=e.userService,l=Object(n.useState)(!1),c=Object(i.a)(l,2),o=c[0],s=c[1],m=Object(n.useState)(!0),u=Object(i.a)(m,2),p=u[0],d=u[1],g=v(),f=g.dispatch,E=g.state;Object(n.useEffect)((function(){null==E.user&&null!=E.token&&E.menuItems.length?(d(!0),a.userInfo().then((function(e){it(t,E.menuItems).then((function(t){f({type:"SET_MENU_ITEMS",value:t}),f({type:"SET_USER_INFO",value:e}),d(!1)}))}))):(d(!0),it(t,E.menuItems).then((function(e){f({type:"SET_MENU_ITEMS",value:e}),d(!1)})))}),[f,t,E.menuItems,E.user,E.token,a]),Object(n.useEffect)((function(){document.title="".concat(E.title," | Farnos\u0165 \u0160aca")}),[E.title]);var b="w-full lg:block px-6 flex-grow lg:flex lg:items-end lg:w-auto ";b+=o?"block":"hidden";var h=[];E.menuItems.length&&(h=E.menuItems.map((function(e){return r.a.createElement("li",{className:"lg:mr-4 block lg:inline-block",key:"page-".concat(e.id)},r.a.createElement(k.c,{to:"/pages/menu/".concat(e.slug),className:"lg:mt-0 hover:text-blue-800"},e.title))})));var y=E.announcement?"pt-40":"pt-24";return p?r.a.createElement(C,null):r.a.createElement(k.a,null,r.a.createElement("div",null,r.a.createElement("div",{className:"fixed z-50 shadow-md bg-white w-full main-menu"},r.a.createElement("nav",{className:"flex items-center justify-between flex-wrap py-8"},r.a.createElement("div",{className:"block lg:hidden ml-4"},r.a.createElement("button",{onClick:function(){return s(!o)},className:"flex items-center px-3 py-2 border rounded border-white hover:text-blue-800"},r.a.createElement("svg",{className:"fill-current h-3 w-3",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"Menu"),r.a.createElement("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})))),r.a.createElement("div",{className:"flex lg:ml-4 px-6 items-center mr-4"},r.a.createElement("span",{className:"text-blue-800 text-shadow text-2xl font-bold ml-4"},"Farnos\u0165 \u0160aca")),r.a.createElement("div",{className:b},r.a.createElement("ul",{className:"text-sm lg:flex-grow text-center lg:text-right "},r.a.createElement("li",{className:"lg:mr-4 block lg:inline-block"},r.a.createElement(k.c,{to:"/",exact:!0,className:"lg:mt-0 hover:text-blue-800"},M.t("pages.home.menuName"))),r.a.createElement("li",{className:"lg:mr-4 block lg:inline-block"},r.a.createElement(k.c,{to:"/oznamy",className:"lg:mt-0 hover:text-blue-800"},M.t("pages.notice.menuName"))),r.a.createElement("li",{className:"lg:mr-4 block lg:inline-block"},r.a.createElement(k.c,{to:"/most",className:"lg:mt-0 hover:text-blue-800"},M.t("pages.most.menuName"))),h,r.a.createElement("li",{className:"lg:mr-4 block lg:inline-block"},r.a.createElement(k.c,{to:"/gallery",className:"lg:mt-0 hover:text-blue-800"},M.t("pages.gallery.menuName"))),r.a.createElement("li",{className:"lg:mr-4 block lg:inline-block"},r.a.createElement(k.c,{to:"/contact",className:"lg:mt-0 hover:text-blue-800"},M.t("pages.contact.menuName")))))),r.a.createElement(Ge,{announcement:E.announcement})),r.a.createElement("div",{className:"".concat(y," main-content-wrapper mx-auto")},r.a.createElement(P.d,null,r.a.createElement(P.b,{exact:!0,path:"/"},r.a.createElement(Le,null)),r.a.createElement(fe,{neededPerm:"notLogged",path:"/login"},r.a.createElement(H,{userService:J})),r.a.createElement(fe,{neededPerm:"notLogged",path:"/forgot-password/success"},r.a.createElement(be,{userService:J})),r.a.createElement(fe,{neededPerm:"notLogged",path:"/forgot-password"},r.a.createElement(ve,{userService:J})),r.a.createElement(fe,{neededPerm:"notLogged",path:"/reset-password"},r.a.createElement(ye,{userService:J})),r.a.createElement(fe,{neededPerm:"editor",path:"/articles/create"},r.a.createElement(ie,{articleService:L})),r.a.createElement(fe,{neededPerm:"editor",path:"/articles/:slug/edit"},r.a.createElement(me,{articleService:L})),r.a.createElement(P.b,{path:"/articles/:slug"},r.a.createElement(pe,{articleService:L})),r.a.createElement(P.b,{path:"/oznamy/upload"},r.a.createElement(He,{uploadService:at})),r.a.createElement(P.b,{path:"/oznamy"},r.a.createElement(Re,null)),r.a.createElement(P.b,{path:"/most/archive"},r.a.createElement(ct,{uploadService:at})),r.a.createElement(fe,{path:"/most/upload",neededPerm:"editor"},r.a.createElement(st,{uploadService:at})),r.a.createElement(P.b,{path:"/most/:id"},r.a.createElement(ot,{uploadService:at})),r.a.createElement(P.b,{path:"/most"},r.a.createElement(rt,null)),r.a.createElement(fe,{path:"/announcement/create",neededPerm:"editor"},r.a.createElement(Xe,{announcementService:We})),r.a.createElement(fe,{neededPerm:"editor",path:"/pages/:category/:slug/edit"},r.a.createElement(re,{pageService:w})),r.a.createElement(fe,{neededPerm:"editor",path:"/pages/:category/:id/create"},r.a.createElement(Ie,{pageService:w})),r.a.createElement(P.b,{path:"/pages/:category/:parent_slug/:slug"},r.a.createElement(A,{pageService:w})),r.a.createElement(P.b,{path:"/pages/:category/:parent_slug"},r.a.createElement(A,{pageService:w})),r.a.createElement(fe,{neededPerm:"editor",path:"/gallery/:category/upload"},r.a.createElement(ke,{uploadService:at})),r.a.createElement(fe,{neededPerm:"editor",path:"/gallery/create"},r.a.createElement(_e,{galleryService:Pe})),r.a.createElement(P.b,{path:"/gallery/:category"},r.a.createElement(Ue,{galleryService:Pe})),r.a.createElement(P.b,{path:"/gallery"},r.a.createElement(Me,{galleryService:Pe})),r.a.createElement(P.b,{path:"/contact"},r.a.createElement(De,null)),r.a.createElement(P.b,{path:"*"},r.a.createElement(de,null)))),r.a.createElement("div",{className:"text-center"},r.a.createElement("p",{className:"text-gray-800 py-8"},(new Date).getFullYear()," \xa9 Farnos\u0165 \u0160aca"))))},ut=(a(420),a(421),a(110));a.n(ut).a.locale("sk"),"production"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})&&o.a({dsn:"https://c3752759514d4b57b580d282b49fc338@o254716.ingest.sentry.io/5420367",integrations:[new s.a.BrowserTracing],tracesSampleRate:1}),O(),c.a.render(r.a.createElement(E,null,r.a.createElement(mt,{pageService:w,userService:J})),document.getElementById("root"))}},[[202,2,3]]]);
//# sourceMappingURL=main.d7e3308c.chunk.js.map