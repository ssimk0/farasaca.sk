{"version":3,"sources":["components/Most/DetailView.jsx","views/Most/Most.jsx"],"names":["DetailView","file","pdfjs","GlobalWorkerOptions","workerSrc","version","useState","numPages","setNumPages","pageNum","setPageNum","className","error","i18n","t","loading","onLoadSuccess","onClick","pageNumber","scale","Most","useAppContext","state","dispatch","useEffect","type","SET_PAGE_TITLE","value","user","is_admin","to","BASE_API_URL","MOST_TYPE"],"mappings":"4PA6CeA,IAxCf,YAA6B,IAARC,EAAO,EAAPA,KACnBC,IAAMC,oBAAoBC,UAA1B,kDAAiFF,IAAMG,QAAvF,kBAD0B,MAGMC,mBAAS,MAHf,mBAGnBC,EAHmB,KAGTC,EAHS,OAIIF,mBAAS,GAJb,mBAInBG,EAJmB,KAIVC,EAJU,KAU1B,OACE,yBAAKC,UAAU,kBACb,kBAAC,IAAD,CACEV,KAAMA,EACNW,MAAOC,IAAKC,EAAE,oBACdC,QAASF,IAAKC,EAAE,sBAChBE,cAVN,YAA4C,IAAZT,EAAW,EAAXA,SAC9BC,EAAYD,IAURU,QAAS,kBAAMP,EAAWD,EAAU,KAEpC,kBAAC,IAAD,CACES,WAAYT,EACZU,MAAO,KAGVZ,GACD,yBAAKI,UAAU,eACZF,EAAU,GAAK,4BAAQE,UAAU,+EACVM,QAAS,kBAAMP,EAAWD,EAAU,KAD5C,IACkD,MADlD,KAGhB,8BAAOA,EAAP,IAAiBF,GAChBE,EAAUF,GAAY,4BAAQI,UAAU,+EACVM,QAAS,kBAAMP,EAAWD,EAAU,KAD5C,IACkD,MADlD,S,iCCnC/B,wEAiCeW,UAzBf,WAAiB,IAAD,EACYC,cAAnBC,EADO,EACPA,MAAOC,EADA,EACAA,SAMd,OAJAC,qBAAU,WACRD,EAAS,CAACE,KAAMC,IAAgBC,MAAOd,IAAKC,EAAE,4BAI9C,yBAAKH,UAAU,0BACZW,EAAMM,MAASN,EAAMM,KAAKC,SACxB,yBAAKlB,UAAU,yBACd,kBAAC,IAAD,CAAMA,UAAU,MAAMmB,GAAE,gBACrBjB,IAAKC,EAAE,yBAEF,KAEZ,0BAAMH,UAAU,cAAcE,IAAKC,EAAE,gBACrC,kBAAC,IAAD,CAAYb,KAAI,UAAK8B,IAAL,gCAAyCC,IAAzC,aAChB,kBAAC,IAAD,CAAMF,GAAG,iBACP,8BAAOjB,IAAKC,EAAE","file":"static/js/7.dc6729f0.chunk.js","sourcesContent":["import React, {useState} from 'react';\nimport {Document, Page, pdfjs} from \"react-pdf\";\nimport 'react-pdf/dist/esm/Page/AnnotationLayer.css';\nimport i18n from \"../../utils/i18n\";\n\nfunction DetailView({file}) {\n  pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\n\n  const [numPages, setNumPages] = useState(null);\n  const [pageNum, setPageNum] = useState(1);\n\n  function onDocumentLoadSuccess({numPages}) {\n    setNumPages(numPages);\n  }\n\n  return (\n    <div className=\"py-4 container\">\n      <Document\n        file={file}\n        error={i18n.t(\"pdf-reader.error\")}\n        loading={i18n.t(\"pdf-reader.loading\")}\n        onLoadSuccess={onDocumentLoadSuccess}\n        onClick={() => setPageNum(pageNum + 1)}\n      >\n        <Page\n          pageNumber={pageNum}\n          scale={2.0}\n        />\n      </Document>\n      {numPages && (\n      <div className=\"text-center\">\n        {pageNum > 1 && <button className=\"pr-4 font-bold text-4xl focus:outline-none text-blue-500 hover:text-blue-600\"\n                                onClick={() => setPageNum(pageNum - 1)}> {\" < \"} </button>\n        }\n        <span>{pageNum}/{numPages}</span>\n        {pageNum < numPages && <button className=\"pl-4 font-bold text-4xl focus:outline-none text-blue-500 hover:text-blue-600\"\n                                       onClick={() => setPageNum(pageNum + 1)}> {\" > \"} </button>\n        }\n      </div>\n      )}\n    </div>\n  )\n}\n\n\nexport default DetailView\n","import React, {useEffect} from 'react';\nimport DetailView from \"../../components/Most/DetailView\";\nimport {BASE_API_URL} from \"../../api\";\nimport {MOST_TYPE} from \"../../api/upload\";\nimport {Link} from \"react-router-dom\";\nimport i18n from \"../../utils/i18n\";\nimport {SET_PAGE_TITLE, useAppContext} from \"../../context/app\";\n\nfunction Most() {\n  const {state, dispatch} = useAppContext();\n\n  useEffect(() => {\n    dispatch({type: SET_PAGE_TITLE, value: i18n.t(\"pages.most.menuName\")});\n  });\n\n  return (\n    <div className=\"container mx-auto py-4\">\n      {state.user && (state.user.is_admin) ?\n        (<div className=\"text-right block py-4\">\n          <Link className=\"btn\" to={`/most/upload`}>\n            {i18n.t(\"pages.notice.upload\")}\n          </Link>\n        </div>) : null\n      }\n      <span className=\"form-title\">{i18n.t(\"most.actual\")}</span>\n      <DetailView file={`${BASE_API_URL}/api/v1/uploads/menu/${MOST_TYPE}/latest`}/>\n      <Link to=\"/most/archive\">\n        <span>{i18n.t(\"most.link.archive\")}</span>\n      </Link>\n    </div>\n  )\n}\n\nexport default Most\n"],"sourceRoot":""}