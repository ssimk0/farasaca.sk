{"version":3,"sources":["components/Notice/Detail.jsx","views/Notice/Detail.jsx"],"names":["Detail","file","pdfjs","GlobalWorkerOptions","workerSrc","version","useState","numPages","setNumPages","error","i18n","t","loading","onLoadSuccess","Array","from","el","index","key","pageNumber","scale","DetailNotice","uploadService","upload","setUpload","setError","id","useParams","dispatch","useAppContext","type","useEffect","SET_PAGE_TITLE","value","getUpload","category","then","u","err","className","to","description","BASE_API_URL"],"mappings":"4PAoCeA,IA9Bf,YAAyB,IAARC,EAAO,EAAPA,KACfC,IAAMC,oBAAoBC,UAA1B,kDAAiFF,IAAMG,QAAvF,kBADsB,MAEUC,mBAAS,MAFnB,mBAEfC,EAFe,KAELC,EAFK,KAOtB,OACE,kBAAC,IAAD,CACEP,KAAMA,EACNQ,MAAOC,IAAKC,EAAE,oBACdC,QAASF,IAAKC,EAAE,sBAChBE,cATJ,YAA4C,IAAZN,EAAW,EAAXA,SAC9BC,EAAYD,KAWRO,MAAMC,KACJ,IAAID,MAAMP,IACV,SAACS,EAAIC,GAAL,OACE,kBAAC,IAAD,CACEC,IAAG,eAAUD,EAAQ,GACrBE,WAAYF,EAAQ,EACpBG,MAAO,U,yHCkBNC,UApCf,YAAwC,IAAjBC,EAAgB,EAAhBA,cAAgB,EACThB,mBAAS,MADA,mBAC9BiB,EAD8B,KACtBC,EADsB,OAEXlB,mBAAS,MAFE,mBAE9BG,EAF8B,KAEvBgB,EAFuB,KAG9BC,EAAMC,cAAND,GACAE,EAAYC,cAAZD,SACAE,EAAQH,cAARG,KAiBP,OAfAC,qBAAU,WACRH,EAAS,CAACE,KAAME,IAAgBC,MAAOvB,IAAKC,EAAL,uBAAuBmB,EAAvB,aAEvCR,EAAcY,UAAU,CACtBJ,KAAM,OACNK,SAAUL,EACVJ,OACCU,MAAK,SAACC,GACPb,EAAUa,MACT,SAACC,GACFb,EAASa,QAEV,CAACV,EAAUF,EAAII,EAAMR,IAGjBC,GACL,yBAAKgB,UAAU,0BACb,kBAAC,IAAD,CAAO9B,MAAOA,IACd,kBAAC,IAAD,CAAM+B,GAAE,kBAAaV,EAAb,YAA6BS,UAAU,SAAS7B,IAAKC,EAAE,qBAC/D,0BAAM4B,UAAU,cAAchB,EAAOkB,aACrC,yBAAKF,UAAU,QACb,kBAAC,IAAD,CAAQtC,KAAI,UAAKyC,IAAL,gCAAyCZ,EAAzC,YAAiDP,EAAOG,GAAxD","file":"static/js/8.6b6aefbf.chunk.js","sourcesContent":["import {Document, Page, pdfjs} from \"react-pdf\";\nimport React, {useState} from \"react\";\nimport 'react-pdf/dist/esm/Page/AnnotationLayer.css';\nimport i18n from \"../../utils/i18n\";\n\n\nfunction Detail({file}) {\n  pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\n  const [numPages, setNumPages] = useState(null);\n  function onDocumentLoadSuccess({numPages}) {\n    setNumPages(numPages);\n  }\n\n  return (\n    <Document\n      file={file}\n      error={i18n.t(\"pdf-reader.error\")}\n      loading={i18n.t(\"pdf-reader.loading\")}\n      onLoadSuccess={onDocumentLoadSuccess}\n    >\n      {\n        Array.from(\n          new Array(numPages),\n          (el, index) => (\n            <Page\n              key={`page_${index + 1}`}\n              pageNumber={index + 1}\n              scale={2.0}\n            />\n          ),\n        )\n      }\n    </Document>\n  )\n}\n\nexport default Detail\n","import React, {useEffect, useState} from 'react';\nimport {Link, useParams} from \"react-router-dom\";\nimport Error from \"../../components/Error/Error\";\nimport {BASE_API_URL} from \"../../api\";\nimport i18n from \"../../utils/i18n\";\nimport {SET_PAGE_TITLE, useAppContext} from \"../../context/app\";\nimport Detail from \"../../components/Notice/Detail\";\n\n\nfunction DetailNotice({uploadService}) {\n  const [upload, setUpload] = useState(null);\n  const [error, setError] = useState(null);\n  const {id} = useParams();\n  const {dispatch} = useAppContext();\n  const {type} = useParams();\n\n  useEffect(() => {\n    dispatch({type: SET_PAGE_TITLE, value: i18n.t(`pages.notice.${type}detail`)});\n\n    uploadService.getUpload({\n      type: \"menu\",\n      category: type,\n      id,\n    }).then((u) => {\n      setUpload(u)\n    }, (err) => {\n      setError(err)\n    })\n  }, [dispatch, id, type, uploadService])\n\n\n  return upload && (\n    <div className=\"container py-4 mx-auto\">\n      <Error error={error} />\n      <Link to={`/oznamy/${type}/archive`} className=\"block\">{i18n.t(\"notice.link.back\")}</Link>\n      <span className=\"form-title\">{upload.description}</span>\n      <div className=\"py-4\">\n        <Detail file={`${BASE_API_URL}/api/v1/uploads/menu/${type}/${upload.id}/download`}/>\n      </div>\n\n    </div>\n  )\n}\n\n\nexport default DetailNotice\n"],"sourceRoot":""}